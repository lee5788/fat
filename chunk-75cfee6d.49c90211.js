(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75cfee6d"],{"521c":function(e,t,s){},6185:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["container"]},[s("div",{staticClass:"iBg navPage"},[s("navbar"),s("div",{staticClass:"bg-gradual-yellow radius-t-2 mx-3 p-3"},[s("div",{staticClass:"left"},[e._v(e._s(e.$t("Assets")))]),s("div",{staticClass:"center py-3 text-xl"},[e._v(e._s(e.balance)+" Mas pro")]),s("div",{staticClass:"right"},[e._v("$"+e._s((e.masProPrice*e.balance).toFixed(2)))])]),s("div",{staticClass:"flex bg-white mx-3 py-3 radius-b-2"},[s("div",{staticClass:"flex-1 br-solid"},[s("div",{staticClass:"text-md mb-1"},[e._v("技术节点")]),s("div",{staticClass:"text-red text-bold"},[e._v(e._s(e.techCount))])]),e._m(0)]),s("div",{staticClass:"nodeBox p-4 mt-3 bg-white radius-2 mx-3"},[s("ul",{staticClass:"left"},[s("li",{staticClass:"cu-tag bg-eee py-2 px-5 left radius text-bold"},[e._v("已领取："+e._s(e.adduptech)+" 枚")]),s("li",{staticClass:"cu-tag bg-eee py-2 px-5 left radius text-bold"},[e._v("可领取："+e._s(e.techrewards)+" 枚")]),s("li",{staticClass:"cu-tag bg-eee py-2 px-5 left radius text-bold"},[e._v("团队cake-LP：0")]),s("button",{staticClass:"btn xl bg-gradual-cyan block mt-5 mb-5",on:{click:e.getReward}},[e._v("领取收益")])])])],1),s("modal",{attrs:{show:e.home,name:"aaa"},on:{cancel:e.hide}},[s("div",{staticClass:"pt-3"},[s("div",{staticClass:"text-xl text-white left pl-5"},[e._v(" "+e._s(e.$t("MyAddress"))+" ")]),s("div",{staticClass:"text-lg text-orange left pl-5 pt-3 pb-5"},[e._v(" "+e._s(e.islice(e.myAddress))+" ")]),s("div",{staticClass:"pb-1 text-white left pl-5 mb-2 text-lg"},[e._v(" "+e._s(e.$t("BindInviter"))+" ")]),s("div",{staticClass:"px-5 flex",attrs:{id:""}},[""!=e.inviteAddress?s("div",{staticClass:"num ellipsis"},[e._v(e._s(e.islice(e.inviteAddress)))]):s("input",{directives:[{name:"model",rawName:"v-model",value:e.inviteAddressInput,expression:"inviteAddressInput"}],staticClass:"flex-1 ball-solid lh-40 radius px-2 bg-transp holder-color",attrs:{type:"text",placeholder:e.$t("Pleaseentertheaddressoftheinviter")},domProps:{value:e.inviteAddressInput},on:{input:function(t){t.target.composing||(e.inviteAddressInput=t.target.value)}}}),""!=e.inviteAddress&&"0x0000000000000000000000000000000000000000"!=e.inviteAddress?s("div",{staticClass:"text1 ",staticStyle:{color:"#999","margin-left":"10px"}},[e._v(" "+e._s(e.$t("Bound")))]):s("button",{staticClass:"btn xl bg-gradual-cyan block mt-5 mb-5",on:{click:e.registration}},[e._v(e._s(e.$t("BindInviter")))])])])])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex-1"},[s("div",{staticClass:"text-md mb-1"},[e._v("节点分红")]),s("div",{staticClass:"text-red text-bold"},[e._v("23.5 / D")])])}],n=s("3835"),i=s("1da1"),c=(s("96cf"),s("b680"),s("ac1f"),s("1276"),s("5319"),s("d3b7"),s("fa7d")),o=s("c030"),d=s("780e"),u=s("ad83"),l=s("4439"),p=s("d399"),v=s("403a"),b=s("9d8d"),x=s("aff5"),m={components:{navbar:b["a"],modal:x["a"]},data:function(){return{home:"",dataList:[{title:"MASAddress",value:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",icon:"i-hy-s.svg",copy:1},{title:"MASPrice",value:"0",icon:"i-mas-s.png"},{title:"AllPower",value:"0",icon:"i-1-s.svg"},{title:"AllStakeLP",value:"0",icon:"i-lp-s.svg"},{title:"BurntMAS",value:"0",icon:"i-xh-s.svg"}],decimals:18,config:v["a"],level:0,techCount:0,nodeCount:0,agCount:0,exCount:0,balance:0,rewards:0,adduptech:0,techrewards:0,myAddress:"",contractAddress:"0xAb4F9da11BFC394A213905ec24Ed2297dfd804dA",masTokenAddress:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",uTokenAddress:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64",page1:"",inviteAddressInput:"",inviteAddress:"",gasLimit:382040,min_gasprice:1,masProPrice:0,masPrice:0}},created:function(){this.init()},mixins:[c["b"],c["c"],c["d"],c["e"],c["a"]],methods:{modal:function(e){this.home=e},hide:function(){this.home="NaN",this.inviteAddressInput=""},init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r,a,i,p,v,b,x,m,g,f,h,w,C,A,_,O,k,R,j,y,I,P,F,S,$,N,L,B,E,D,T,U,G,M,V,q;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.provider.getGasPrice();case 4:return s=t.sent,s=o["a"].utils.formatUnits(s,"gwei"),s>e.min_gasprice&&(e.min_gasprice=s),r=e,a="",i=new o["a"].Contract(a,u["a"],e.signer),t.next=12,e.to(i.getPair(r.contractAddress,r.uTokenAddress));case 12:if(p=t.sent,v=Object(n["a"])(p,2),b=v[0],x=v[1],!e.doResponse(b,x)){t.next=25;break}return m=new o["a"].Contract(x,l["a"],e.signer),t.next=20,e.to(m.getReserves());case 20:g=t.sent,f=Object(n["a"])(g,2),h=f[0],w=f[1],e.doResponse(h,w)&&(h||(C=r.fixNumber(w[0]),A=r.fixNumber(w[1]),console.log("reserve0:"+C),console.log("reserve1:"+A),e.masProPrice=c["a"].div(C,A).toFixed(5),r.dataList[1].value="$"+c["a"].div(C,A).toFixed(5)));case 25:return _=new o["a"].Contract(e.contractAddress,d["a"],e.signer),e.contract=_,t.next=29,e.to(e.contract.balanceOf(e.myAddress));case 29:return O=t.sent,k=Object(n["a"])(O,2),R=k[0],j=k[1],e.doResponse(R,j)&&(e.balance=e.fixNumber(j).toFixed(3)),t.next=36,e.to(e.contract.getHolderCount(2));case 36:return y=t.sent,I=Object(n["a"])(y,2),P=I[0],F=I[1],e.doResponse(P,F)&&(e.techCount=e.hex2int(o["a"].utils.hexValue(F))),t.next=43,e.to(e.contract.totalSupply());case 43:return S=t.sent,$=Object(n["a"])(S,2),N=$[0],L=$[1],e.doResponse(N,L)&&(e.dataList[2].value=e.fixNumber(L).toFixed(3)),t.next=50,e.to(e.contract._adduptech(e.myAddress));case 50:return B=t.sent,E=Object(n["a"])(B,2),D=E[0],T=E[1],e.doResponse(D,T)&&(e.adduptech=e.fixNumber(T).toFixed(5)),t.next=57,e.to(e.contract._techrewards(e.myAddress));case 57:return U=t.sent,G=Object(n["a"])(U,2),M=G[0],V=G[1],e.doResponse(M,V)&&(e.techrewards=e.fixNumber(V).toFixed(5)),t.next=64,e.getInviteAddress();case 64:q=e.$route.query.address,q&&(e.urlAddress=q,""==e.inviteAddress&&(e.inviteAddressInput=q));case 66:case"end":return t.stop()}}),t)})))()},getInviteAddress:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.to(e.contract.inviter(e.myAddress));case 2:s=t.sent,r=Object(n["a"])(s,2),a=r[0],i=r[1],e.doResponse(a,i)&&("0x0000000000000000000000000000000000000000"==i&&(i=""),e.inviteAddress=i),""==e.inviteAddress&&e.modal("aaa");case 8:case"end":return t.stop()}}),t)})))()},copyShareLink:function(e){var t=(window.location.href||"").split("#")[0],s=t.replace("?utm_source=tokenpocket","")+"#/home?address="+e;this.h5Copy(s)},registration:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.inviteAddressInput){t.next=3;break}return Object(p["a"])(e.$t("addressPlaceholder")),t.abrupt("return");case 3:if(e.inviteAddressInput.toLowerCase()!=e.myAddress.toLowerCase()){t.next=7;break}return Object(p["a"])(e.$t("notOwner")),e.inviteAddressInput="",t.abrupt("return");case 7:if(e.inviteAddressInput.toLowerCase()!=e.contractAddress.toLowerCase()){t.next=11;break}return Object(p["a"])(e.$t("notContract")),e.inviteAddressInput="",t.abrupt("return");case 11:return t.next=13,e.to(e.contract.registration(e.inviteAddressInput,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 13:s=t.sent,r=Object(n["a"])(s,2),a=r[0],i=r[1],e.doResponse(a,i)&&(Object(p["a"])(e.$t("bindSuccess")),e.inviteAddress=e.inviteAddressInput,e.hide());case 18:case"end":return t.stop()}}),t)})))()},getReward:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEstimateGas((function(){return e.contract.estimateGas.getReward(3,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 2:if(s=t.sent,0!==s){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.to(e.contract.getReward(3,{gasLimit:s,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 7:if(r=t.sent,a=Object(n["a"])(r,2),i=a[0],c=a[1],!e.doResponse(i,c)){t.next=15;break}return Object(p["a"])(e.$t("Successpleasewaitfortheblockpackresult")),t.next=15,e.queryTransation(c.hash);case 15:case"end":return t.stop()}}),t)})))()},queryTransation:function(e,t,s){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.provider.waitForTransaction(e).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(p["a"])(r.$t("blockSuccess"),t),console.log(t),s&&s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e)return 0;var t=o["a"].utils.hexValue(e);return this.hex2int(t)/o["a"].BigNumber.from(10).pow(this.decimals)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,s=e.length,r=new Array(s),a=0;a<s;a++)t=e.charCodeAt(a),48<=t&&t<58?t-=48:t=(223&t)-65+10,r[a]=t;return r.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(null==e){if(s){var a=o["a"].utils.hexValue(t),n=this.hex2int(a)/o["a"].BigNumber.from(10).pow(r);this[s]=n}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(p["a"])("错误:"+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(p["a"])("矿工费不足"):4001===e.code||"cancelled"===e?Object(p["a"])("交易取消"):e.data.message.indexOf("gas")>0?Object(p["a"])("矿工费不足"):e.data.message.indexOf("RPC")>0?Object(p["a"])("节点异常，请切换节点"):e.data.message.indexOf("reverted")>0&&Object(p["a"])("错误:"+e.data.message)}catch(i){}return!1},getEstimateGas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var r,a,i,d,u,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.to(e());case 2:if(r=s.sent,a=Object(n["a"])(r,2),i=a[0],d=a[1],!t.doResponse(i,d)){s.next=13;break}return u=o["a"].utils.hexValue(d),l=t.hex2int(u),console.log("getEstimateGas========",l),s.abrupt("return",String(c["a"].mul(l,1.5)).split(".")[0]);case 13:return s.abrupt("return",0);case 14:case"end":return s.stop()}}),s)})))()}},watch:{}},g=m,f=(s("f614"),s("2877")),h=Object(f["a"])(g,r,a,!1,null,null,null);t["default"]=h.exports},f614:function(e,t,s){"use strict";s("521c")}}]);