(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41a2e4c0"],{1148:function(e,t,s){"use strict";var a=s("5926"),r=s("577e"),n=s("1d80"),i=RangeError;e.exports=function(e){var t=r(n(this)),s="",o=a(e);if(o<0||o===1/0)throw new i("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(s+=t);return s}},b680:function(e,t,s){"use strict";var a=s("23e7"),r=s("e330"),n=s("5926"),i=s("408a"),o=s("1148"),c=s("d039"),l=RangeError,u=String,d=Math.floor,p=r(o),f=r("".slice),v=r(1.1.toFixed),m=function(e,t,s){return 0===t?s:t%2===1?m(e,t-1,s*e):m(e*e,t/2,s)},b=function(e){var t=0,s=e;while(s>=4096)t+=12,s/=4096;while(s>=2)t+=1,s/=2;return t},g=function(e,t,s){var a=-1,r=s;while(++a<6)r+=t*e[a],e[a]=r%1e7,r=d(r/1e7)},x=function(e,t){var s=6,a=0;while(--s>=0)a+=e[s],e[s]=d(a/t),a=a%t*1e7},h=function(e){var t=6,s="";while(--t>=0)if(""!==s||0===t||0!==e[t]){var a=u(e[t]);s=""===s?a:s+p("0",7-a.length)+a}return s},w=c((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!c((function(){v({})}));a({target:"Number",proto:!0,forced:w},{toFixed:function(e){var t,s,a,r,o=i(this),c=n(e),d=[0,0,0,0,0,0],v="",w="0";if(c<0||c>20)throw new l("Incorrect fraction digits");if(o!==o)return"NaN";if(o<=-1e21||o>=1e21)return u(o);if(o<0&&(v="-",o=-o),o>1e-21)if(t=b(o*m(2,69,1))-69,s=t<0?o*m(2,-t,1):o/m(2,t,1),s*=4503599627370496,t=52-t,t>0){g(d,0,s),a=c;while(a>=7)g(d,1e7,0),a-=7;g(d,m(10,a,1),0),a=t-1;while(a>=23)x(d,1<<23),a-=23;x(d,1<<a),g(d,1,1),x(d,2),w=h(d)}else g(d,0,s),g(d,1<<-t,0),w=h(d)+p("0",c);return c>0?(r=w.length,w=v+(r<=c?"0."+p("0",c-r)+w:f(w,0,r-c)+"."+f(w,r-c))):w=v+w,w}})},b8a9:function(e,t,s){"use strict";s("b923")},b923:function(e,t,s){},e583:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"navPage iBg"},[s("navbar"),s("div",{staticClass:"row pt-4"},[s("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-4"},[s("div",{staticClass:"col-24 text-bold pb-3 bb-solid mb-2"},[e._v("管理员")]),s("div",{staticClass:"col-24 left row py-2 align-center"},[s("div",{staticClass:"col-8"},[e._v("分红池：")]),s("div",{staticClass:"flex-1"},[e._v(e._s(e.poolFenhong))])]),s("div",{staticClass:"col-24 left row py-2 align-center"},[s("div",{staticClass:"col-8"},[e._v("总销毁：")]),s("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.tFeeTotal)+" ")])]),s("div",{staticClass:"col-24 left row py-2 align-center"},[s("div",{staticClass:"col-8"},[e._v("LP总量：")]),s("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.totalSupplyLP)+" ")])]),s("div",{staticClass:"col-24 left row py-2 align-center"},[s("div",{staticClass:"col-8"},[e._v("LP节点数：")]),s("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.LPUserCount)+" ")])]),s("div",{staticClass:"col-24 left row py-2 align-center"},[s("div",{staticClass:"col-8"},[e._v("分红节点数：")]),s("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.NodeCount)+" ")])]),s("div",{staticClass:"col-24 left py-1"}),s("div",{staticClass:"col-24 left pt-1"})]),s("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[s("div",{staticClass:"col-24 bb-solid text-sxl pb-2"},[e._v(" 添加分红节点("+e._s(e.createNodesCount)+") ")]),s("div",{staticClass:"col-24 left py-1 row"},[s("div",{staticClass:"flex"},[e._v(" 地址： "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.createNodesAddressInput,expression:"createNodesAddressInput"}],staticClass:"flex-1 ball-solid lh-32 radius px-2",staticStyle:{width:"150px"},attrs:{type:"text"},domProps:{value:e.createNodesAddressInput},on:{input:function(t){t.target.composing||(e.createNodesAddressInput=t.target.value)}}}),s("button",{staticClass:"btn bg-gradual-purple ml-2",on:{click:e.AddNode}},[e._v(" 添加 ")])])])]),s("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[s("div",{staticClass:"col-24 bb-solid text-sxl pb-2"},[e._v("手续费分红")]),s("div",{staticClass:"col-24 left py-2 row"},[s("div",{staticClass:"flex-1"},[e._v("分红池达到"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.SatisfyDividen,expression:"SatisfyDividen"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ml-2",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:e.SatisfyDividen},on:{input:function(t){t.target.composing||(e.SatisfyDividen=t.target.value)}}}),e._v("时触发 ")]),s("button",{staticClass:"btn  bg-gradual-purple ml-2",staticStyle:{"margin-left":"10px"},on:{click:e.setSatisfyDividen}},[e._v("设置")])]),s("div",{staticClass:"col-24 left row py-2 align-center"},[s("div",{staticClass:"col-10"},[e._v("上次分红数量：")]),s("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.lastDividendAmount)+" ")])]),s("div",{staticClass:"col-24 left row py-2 align-center"},[s("div",{staticClass:"col-10"},[e._v("上次分红时间：")]),s("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.lastNotifyRewardTime)+" ")])])]),s("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[s("div",{staticClass:"col-24"},[e._v("手续费比例")]),s("div",{staticClass:"col-24 left py-1 row"},[s("div",{staticClass:"flex-1"},[e._v(" 销毁 "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.burnFee,expression:"burnFee"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ml-2",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:e.burnFee},on:{input:function(t){t.target.composing||(e.burnFee=t.target.value)}}}),e._v(" % ")])]),s("div",{staticClass:"col-24 left py-1 row"},[s("div",{staticClass:"flex-1"},[e._v(" LP池 "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.LPFee,expression:"LPFee"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ml-2",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:e.LPFee},on:{input:function(t){t.target.composing||(e.LPFee=t.target.value)}}}),e._v(" % ")])]),s("div",{staticClass:"col-24 left py-1 row"},[s("div",{staticClass:"flex-1"},[e._v(" 节点池 "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.prjFee,expression:"prjFee"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ml-2",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:e.prjFee},on:{input:function(t){t.target.composing||(e.prjFee=t.target.value)}}}),e._v(" % ")])]),s("div",{staticClass:"col-24"},[s("button",{staticClass:"btn bg-gradual-purple ml-2",on:{click:function(t){return e.setFee()}}},[e._v(" 设置 ")])])])])],1)},r=[],n=s("3835"),i=s("1da1"),o=(s("96cf"),s("e9f5"),s("9485"),s("b680"),s("d3b7"),s("fa7d")),c=s("c030"),l=s("780e"),u=s("d399"),d=s("403a"),p=s("9d8d"),f={components:{navbar:p["a"]},data:function(){return{myAddress:"",createNodesAddressInput:"",contractAddress:"0x430462CDA9a604e480D103A1D6dABFBB571684BA",masTokenAddress:"",uTokenAddress:"0x55d398326f99059ff775485246999027b3197955",decimals:18,config:d["a"],totalSupplyLP:0,gasLimit:182040,nodeCount:0,shareTotalLP:0,TotalUsers:0,min_gasprice:.1,burnFee:0,LPFee:0,prjFee:0,poolFenhong:0,tFeeTotal:0,createNodesCount:0,ftaPrice:.02,NodeLevelAddressInput:"",lastNotifyRewardTime:0,lastDividendAmount:0,SatisfyDividen:0,LPUserCount:0,NodeCount:0}},mixins:[o["b"],o["c"],o["d"],o["e"],o["a"]],created:function(){this.init()},methods:{init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i,o,u,d,p,f,v,m,b,g,x,h,w,C,_,y,j,F,N,R,O,A,P,S,L,k,D,T,I,U,E,B,G,$,V,M,q,J,W,z,H,K,Q;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=1;break}return t.abrupt("return");case 1:return t.next=2,e.provider.getGasPrice();case 2:return s=t.sent,s=c["a"].utils.formatUnits(s,"gwei"),s>e.min_gasprice&&(e.min_gasprice=s),a=new c["a"].Contract(e.contractAddress,l["a"],e.signer),e.contract=a,t.next=3,e.to(e.contract._tFeeTotal());case 3:return r=t.sent,i=Object(n["a"])(r,2),o=i[0],u=i[1],e.doResponse(o,u)&&(e.tFeeTotal=e.fixNumber(u).toFixed(4)),t.next=4,e.to(e.contract.poolFenhong());case 4:return d=t.sent,p=Object(n["a"])(d,2),f=p[0],v=p[1],e.doResponse(f,v)&&(e.poolFenhong=e.fixNumber(v).toFixed(4)),t.next=5,e.to(e.contract.getTotalSupplyLP());case 5:return m=t.sent,b=Object(n["a"])(m,2),g=b[0],x=b[1],e.doResponse(g,x)&&(console.log(x),e.totalSupplyLP=e.fixNumber(x).toFixed(4)),t.next=6,e.to(e.contract.LastDividendTime());case 6:return h=t.sent,w=Object(n["a"])(h,2),C=w[0],_=w[1],e.doResponse(C,_)&&(e.lastNotifyRewardTime=e.timestampToTime(_)),t.next=7,e.to(e.contract.LastDividendAmount());case 7:return y=t.sent,j=Object(n["a"])(y,2),F=j[0],N=j[1],e.doResponse(F,N)&&(e.lastDividendAmount=e.fixNumber(N).toFixed(4)),e.$forceUpdate(),t.next=8,e.to(e.contract._burnFee());case 8:return R=t.sent,O=Object(n["a"])(R,2),A=O[0],P=O[1],e.doResponse(A,P)&&(e.burnFee=P/100),t.next=9,e.to(e.contract._LPFee());case 9:return S=t.sent,L=Object(n["a"])(S,2),k=L[0],D=L[1],e.doResponse(k,D)&&(e.LPFee=D/100),t.next=10,e.to(e.contract._prjFee());case 10:return T=t.sent,I=Object(n["a"])(T,2),U=I[0],E=I[1],e.doResponse(U,E)&&(e.prjFee=E/100),t.next=11,e.to(e.contract.getLPUserCount());case 11:return B=t.sent,G=Object(n["a"])(B,2),$=G[0],V=G[1],e.doResponse($,V)&&(e.LPUserCount=V),t.next=12,e.to(e.contract.getNodeCount());case 12:return M=t.sent,q=Object(n["a"])(M,2),J=q[0],W=q[1],e.doResponse(J,W)&&(e.NodeCount=W),t.next=13,e.to(e.contract._satisfyDividen());case 13:z=t.sent,H=Object(n["a"])(z,2),K=H[0],Q=H[1],e.doResponse(K,Q,"SatisfyDividen");case 14:case"end":return t.stop()}}),t)})))()},AddNode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.createNodesAddressInput){t.next=1;break}return Object(u["a"])("地址不能为空"),t.abrupt("return");case 1:if(e.createNodesAddressInput.toLowerCase()!=e.contractAddress.toLowerCase()){t.next=2;break}return Object(u["a"])(e.$t("notContract")),e.createNodesAddressInput="",t.abrupt("return");case 2:if(""!=e.NodeReceiveAmount){t.next=3;break}return Object(u["a"])("数量不能为空"),t.abrupt("return");case 3:return t.next=4,e.to(e.contract.setNodeShare(e.createNodesAddressInput,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 4:s=t.sent,a=Object(n["a"])(s,2),r=a[0],i=a[1],e.doResponse(r,i)&&(e.createNodesAddressInput,Object(u["a"])("操作成功，请等待区块打包结果!"));case 5:case"end":return t.stop()}}),t)})))()},notifyRewardAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.getEstimateGas((function(){return e.contract.estimateGas.notifyRewardAmount({gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 1:if(s=t.sent,0!==s){t.next=2;break}return t.abrupt("return");case 2:return t.next=3,e.to(e.contract.notifyRewardAmount({gasLimit:s,gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 3:if(a=t.sent,r=Object(n["a"])(a,2),i=r[0],o=r[1],!e.doResponse(i,o,"")){t.next=4;break}return e.showAdmStartMint=!1,Object(u["a"])(e.$t("操作成功，请等待区块打包结果!")),t.next=4,e.queryTransation(o.hash);case 4:case"end":return t.stop()}}),t)})))()},setFee:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.setFee(100*e.burnFee,100*e.LPFee,100*e.prjFee,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 1:s=t.sent,a=Object(n["a"])(s,2),r=a[0],i=a[1],e.doResponse(r,i)&&Object(u["a"])("修改成功");case 2:case"end":return t.stop()}}),t)})))()},setSatisfyDividen:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.setSatisfyDividen(e.SatisfyDividen,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 1:s=t.sent,a=Object(n["a"])(s,2),r=a[0],i=a[1],e.doResponse(r,i)&&Object(u["a"])("修改成功");case 2:case"end":return t.stop()}}),t)})))()},queryTransation:function(e,t,s){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,a.provider.waitForTransaction(e).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(u["a"])(a.$t("blockSuccess"),t),console.log(t),s?s():a.init();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e||void 0==e)return 0;var t=c["a"].utils.hexValue(e);return this.hex2int(t)/c["a"].BigNumber.from(10).pow(this.decimals)},fixNumber2:function(e){if(0==e||void 0==e)return 0;var t=c["a"].utils.hexValue(e);return this.hex2int(t)/c["a"].BigNumber.from(10).pow(9)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,s=e.length,a=new Array(s),r=0;r<s;r++)t=e.charCodeAt(r),48<=t&&t<58?t-=48:t=(223&t)-65+10,a[r]=t;return a.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(console.log(s+"================",e,t),null==e){if(s){var r=c["a"].utils.hexValue(t),n=this.hex2int(r)/c["a"].BigNumber.from(10).pow(a);this[s]=n}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(u["a"])("错误:"+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(u["a"])("矿工费不足"):4001===e.code||"cancelled"===e?Object(u["a"])("交易取消"):e.data.message.indexOf("gas")>0?Object(u["a"])("矿工费不足"):e.data.message.indexOf("RPC")>0?Object(u["a"])("节点异常，请切换节点"):e.data.message.indexOf("reverted")>0&&Object(u["a"])(this.$t("Error")+e.data.message.split(":")[1])}catch(i){}return!1},getEstimateGas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,i,l,u,d;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=1,t.to(e());case 1:if(a=s.sent,r=Object(n["a"])(a,2),i=r[0],l=r[1],!t.doResponse(i,l)){s.next=2;break}return u=c["a"].utils.hexValue(l),d=t.hex2int(u),console.log("getEstimateGas========",d),s.abrupt("return",String(o["a"].mul(d,1.5)).split(".")[0]);case 2:return s.abrupt("return",0);case 3:case"end":return s.stop()}}),s)})))()},copyShareLink:function(e){this.h5Copy(e)},lock:function(e){this.sel=e}}},v=f,m=(s("b8a9"),s("2877")),b=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=b.exports}}]);