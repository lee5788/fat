(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f18f070"],{b8a9:function(e,t,a){"use strict";a("b923")},b923:function(e,t,a){},e583:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navPage iBg"},[a("navbar"),a("div",{staticClass:"row pt-4"},[a("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-4"},[a("div",{staticClass:"col-24 text-bold pb-3 bb-solid mb-2"},[e._v("管理员")]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("5天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(this.PoolUsers[0])+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("7天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(this.PoolUsers[1])+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("15天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(this.PoolUsers[2])+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("30天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(this.PoolUsers[3])+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("平台手续费：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.totalSys)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("底池：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.totalPot)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("USDT余额：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.balanceOfUSDT)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("FTA余额：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.balanceOfMAS)+" ")])]),a("div",{staticClass:"col-24 left py-1"}),a("div",{staticClass:"col-24 left pt-1"})]),a("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[a("div",{staticClass:"col-24 bb-solid text-sxl pb-2"},[e._v("设置会员级别")]),a("div",{staticClass:"col-24 left py-1 row"},[a("div",{staticClass:"flex"},[e._v(" 地址： "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.NodeLevelAddressInput,expression:"NodeLevelAddressInput"}],staticClass:"flex-1 ball-solid lh-32 radius px-2",attrs:{type:"text"},domProps:{value:e.NodeLevelAddressInput},on:{input:function(t){t.target.composing||(e.NodeLevelAddressInput=t.target.value)}}})]),a("div",{staticClass:"flex mt-2"},[e._v(" 级别： "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.NodeLevel,expression:"NodeLevel"}],staticClass:"ball-solid lh-32 radius px-2",staticStyle:{width:"100px"},attrs:{type:"number"},domProps:{value:e.NodeLevel},on:{input:function(t){t.target.composing||(e.NodeLevel=t.target.value)}}}),a("button",{staticClass:"btn bg-gradual-purple ml-2",on:{click:e.setNodeLevel}},[e._v(" 设置 ")])])])]),a("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[a("div",{staticClass:"col-24 bb-solid text-sxl pb-2"},[e._v("添加股东节点("+e._s(e.createNodesCount)+")")]),a("div",{staticClass:"col-24 left py-1 row"},[a("div",{staticClass:"flex"},[e._v(" 股东地址： "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.createNodesAddressInput,expression:"createNodesAddressInput"}],staticClass:"flex-1 ball-solid lh-32 radius px-2",attrs:{type:"text"},domProps:{value:e.createNodesAddressInput},on:{input:function(t){t.target.composing||(e.createNodesAddressInput=t.target.value)}}})]),a("div",{staticClass:"flex mt-2"},[e._v(" USDT： "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.NodeReceiveAmount,expression:"NodeReceiveAmount"}],staticClass:"ball-solid lh-32 radius px-2",staticStyle:{width:"100px"},attrs:{type:"number"},domProps:{value:e.NodeReceiveAmount},on:{input:function(t){t.target.composing||(e.NodeReceiveAmount=t.target.value)}}}),a("button",{staticClass:"btn bg-gradual-purple ml-2",on:{click:e.AddNode}},[e._v(" 添加 ")])])])]),a("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[a("div",{staticClass:"col-24 bb-solid text-sxl pb-2"},[e._v("碎片分红")]),a("div",{staticClass:"col-24 mt-2"},[a("button",{staticClass:"btn xl bg-gradual-red block",on:{click:e.notifyRewardAmount}},[e._v(" 手动执行分红 ")])])]),a("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[a("div",{staticClass:"col-24 left py-2 row"},[a("div",{staticClass:"flex-1"},[e._v(" FTA价格 "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ftaPrice,expression:"ftaPrice"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ml-2",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:e.ftaPrice},on:{input:function(t){t.target.composing||(e.ftaPrice=t.target.value)}}})]),a("button",{staticClass:"btn bg-gradual-purple ml-2",staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.setFTAPrice()}}},[e._v(" 设置 ")])])])])],1)},r=[],n=a("3835"),i=a("1da1"),o=(a("e9f5"),a("9485"),a("d3b7"),a("96cf"),a("fa7d")),c=a("c030"),l=a("780e"),u=a("d399"),d=a("403a"),p=a("9d8d"),v={components:{navbar:p["a"]},data:function(){return{myAddress:"",nodetype:"1",createNodesAddressInput:"",contractAddress:"0x8bf44B88941696A4b29D73851Be159F87a851450",masTokenAddress:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",uTokenAddress:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64",decimals:18,config:d["a"],totalPower:0,totalSupplyLP:0,totalBrun:0,totalRewards:0,NodeReceiveAmount:0,NodeDayRelease:23.5,NodeReceiveInterval:0,gasLimit:382040,techCount:0,nodeCount:0,agCount:0,exCount:0,shareTotalLP:0,TotalUsers:0,min_gasprice:1,nodeReceiveInterval:0,nodeDayRelease:0,pool1:{},pool2:{},pool3:{},pool4:{},PoolPower:[0,0,0,0],PoolUsers:[0,0,0,0],PoolLP:[0,0,0,0],PoolDayRelease:[0,0,0,0],balanceOfUSDT:0,balanceOfMAS:0,totalSys:0,totalPot:0,createNodesCount:0,ftaPrice:.02,NodeLevelAddressInput:"",NodeLevel:0}},mixins:[o["b"],o["c"],o["d"],o["e"],o["a"]],created:function(){this.init()},methods:{init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i,o,u,d,p,v,f,g,m,b,w,x,h,R,C,O,N,_,A,j,P,y,S,k,U,I,L,T,D,F,B,E,G,M,V;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=1;break}return t.abrupt("return");case 1:return t.next=2,e.provider.getGasPrice();case 2:return a=t.sent,a=c["a"].utils.formatUnits(a,"gwei"),a>e.min_gasprice&&(e.min_gasprice=a),s=new c["a"].Contract(e.contractAddress,l["a"],e.signer),e.contract=s,t.next=3,e.to(e.contract._totalPot());case 3:return r=t.sent,i=Object(n["a"])(r,2),o=i[0],u=i[1],e.doResponse(o,u,"totalPot"),t.next=4,e.to(e.contract._totalSys());case 4:return d=t.sent,p=Object(n["a"])(d,2),v=p[0],f=p[1],e.doResponse(v,f,"totalSys"),t.next=5,e.to(e.contract.getTotalUsers(1));case 5:return g=t.sent,m=Object(n["a"])(g,2),b=m[0],w=m[1],e.doResponse(b,w)&&(e.PoolUsers[0]=w),t.next=6,e.to(e.contract.getTotalUsers(2));case 6:return x=t.sent,h=Object(n["a"])(x,2),R=h[0],C=h[1],e.doResponse(R,C)&&(e.PoolUsers[1]=C),t.next=7,e.to(e.contract.getTotalUsers(3));case 7:return O=t.sent,N=Object(n["a"])(O,2),_=N[0],A=N[1],e.doResponse(_,A)&&(e.PoolUsers[2]=A),t.next=8,e.to(e.contract.getTotalUsers(4));case 8:return j=t.sent,P=Object(n["a"])(j,2),y=P[0],S=P[1],e.doResponse(y,S)&&(e.PoolUsers[3]=S),t.next=9,e.to(e.contract.ftaPrice());case 9:return k=t.sent,U=Object(n["a"])(k,2),I=U[0],L=U[1],e.doResponse(I,L)&&(e.ftaPrice=L/1e5),t.next=10,e.to(e.contract.level(e.myAddress));case 10:return T=t.sent,D=Object(n["a"])(T,2),F=D[0],B=D[1],e.doResponse(F,B)&&(e.userLevel=B,console.log("userlevel:"+B)),t.next=11,e.to(e.contract.getTokenBalance());case 11:E=t.sent,G=Object(n["a"])(E,2),M=G[0],V=G[1],e.doResponse(M,V)&&(M||(e.balanceOfUSDT=e.fixNumber(V[0]),e.balanceOfMAS=e.fixNumber(V[1])));case 12:case"end":return t.stop()}}),t)})))()},AddNode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.createNodesAddressInput){t.next=1;break}return Object(u["a"])("地址不能为空"),t.abrupt("return");case 1:if(e.createNodesAddressInput.toLowerCase()!=e.contractAddress.toLowerCase()){t.next=2;break}return Object(u["a"])(e.$t("notContract")),e.createNodesAddressInput="",t.abrupt("return");case 2:if(""!=e.NodeReceiveAmount){t.next=3;break}return Object(u["a"])("数量不能为空"),t.abrupt("return");case 3:return t.next=4,e.to(e.contract.setNodeShare(e.createNodesAddressInput,e.NodeReceiveAmount,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 4:a=t.sent,s=Object(n["a"])(a,2),r=s[0],i=s[1],e.doResponse(r,i)&&(e.createNodesAddressInput,Object(u["a"])("操作成功，请等待区块打包结果!"));case 5:case"end":return t.stop()}}),t)})))()},setFTAPrice:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.setFTAPrice(1e5*e.ftaPrice,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 1:a=t.sent,s=Object(n["a"])(a,2),r=s[0],i=s[1],e.doResponse(r,i)&&Object(u["a"])("修改成功");case 2:case"end":return t.stop()}}),t)})))()},setNodeLevel:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.setLevel(e.NodeLevelAddressInput,e.NodeLevel,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 1:a=t.sent,s=Object(n["a"])(a,2),r=s[0],i=s[1],e.doResponse(r,i)&&Object(u["a"])("修改成功");case 2:case"end":return t.stop()}}),t)})))()},setPoolDayRelease:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.PoolDayRelease[e-1]<0)){a.next=1;break}return Object(u["a"])("数量不能小于0"),a.abrupt("return");case 1:return a.next=2,t.to(t.contract.setPoolDayRelease(e,t.PoolDayRelease[e-1],{gasPrice:c["a"].utils.parseUnits(String(t.min_gasprice),"gwei")}));case 2:s=a.sent,r=Object(n["a"])(s,2),i=r[0],o=r[1],t.doResponse(i,o)&&Object(u["a"])("修改成功");case 3:case"end":return a.stop()}}),a)})))()},setPoolAllowStake:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=1,t.to(t.contract.setAllowStake(e,{gasPrice:c["a"].utils.parseUnits(String(t.min_gasprice),"gwei")}));case 1:s=a.sent,r=Object(n["a"])(s,2),i=r[0],o=r[1],t.doResponse(i,o)&&Object(u["a"])("修改成功");case 2:case"end":return a.stop()}}),a)})))()},setNodeReceiveAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.setNodeReceiveAmount(e.NodeReceiveAmount,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 1:a=t.sent,s=Object(n["a"])(a,2),r=s[0],i=s[1],e.doResponse(r,i)&&Object(u["a"])("修改成功");case 2:case"end":return t.stop()}}),t)})))()},setNodeReceiveInterval:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.setNodeReceiveInterval(e.NodeReceiveInterval,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 1:a=t.sent,s=Object(n["a"])(a,2),r=s[0],i=s[1],e.doResponse(r,i)&&Object(u["a"])("修改成功");case 2:case"end":return t.stop()}}),t)})))()},setNodeDayRelease:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.setNodeDayRelease(e.NodeDayRelease,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 1:a=t.sent,s=Object(n["a"])(a,2),r=s[0],i=s[1],e.doResponse(r,i)&&Object(u["a"])("修改成功");case 2:case"end":return t.stop()}}),t)})))()},setAllowStake:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=1,t.to(t.contract.setAllowStake(e,{gasPrice:c["a"].utils.parseUnits(String(t.min_gasprice),"gwei")}));case 1:s=a.sent,r=Object(n["a"])(s,2),i=r[0],o=r[1],t.doResponse(i,o)&&Object(u["a"])("修改成功");case 2:case"end":return a.stop()}}),a)})))()},notifyRewardAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.getEstimateGas((function(){return e.contract.estimateGas.notifyRewardAmount({gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 1:if(a=t.sent,0!==a){t.next=2;break}return t.abrupt("return");case 2:return t.next=3,e.to(e.contract.notifyRewardAmount({gasLimit:a,gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 3:if(s=t.sent,r=Object(n["a"])(s,2),i=r[0],o=r[1],!e.doResponse(i,o,"")){t.next=4;break}return e.showAdmStartMint=!1,Object(u["a"])(e.$t("操作成功，请等待区块打包结果!")),t.next=4,e.queryTransation(o.hash);case 4:case"end":return t.stop()}}),t)})))()},notifyShareAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.getEstimateGas((function(){return e.contract.estimateGas.processNode(5e5,{gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 1:if(a=t.sent,0!==a){t.next=2;break}return t.abrupt("return");case 2:return t.next=3,e.to(e.contract.processNode(5e5,{gasLimit:a,gasPrice:c["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 3:if(s=t.sent,r=Object(n["a"])(s,2),i=r[0],o=r[1],!e.doResponse(i,o,"")){t.next=4;break}return e.showAdmStartMint=!1,Object(u["a"])("操作成功，请等待区块打包结果!"),t.next=4,e.queryTransation(o.hash);case 4:case"end":return t.stop()}}),t)})))()},queryTransation:function(e,t,a){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,s.provider.waitForTransaction(e).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(u["a"])(s.$t("blockSuccess"),t),console.log(t),a&&a();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e||void 0==e)return 0;var t=c["a"].utils.hexValue(e);return this.hex2int(t)/c["a"].BigNumber.from(10).pow(this.decimals)},fixNumber2:function(e){if(0==e||void 0==e)return 0;var t=c["a"].utils.hexValue(e);return this.hex2int(t)/c["a"].BigNumber.from(10).pow(9)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,a=e.length,s=new Array(a),r=0;r<a;r++)t=e.charCodeAt(r),48<=t&&t<58?t-=48:t=(223&t)-65+10,s[r]=t;return s.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(console.log(a+"================",e,t),null==e){if(a){var r=c["a"].utils.hexValue(t),n=this.hex2int(r)/c["a"].BigNumber.from(10).pow(s);this[a]=n}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(u["a"])("错误:"+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(u["a"])("矿工费不足"):4001===e.code||"cancelled"===e?Object(u["a"])("交易取消"):e.data.message.indexOf("gas")>0?Object(u["a"])("矿工费不足"):e.data.message.indexOf("RPC")>0?Object(u["a"])("节点异常，请切换节点"):e.data.message.indexOf("reverted")>0&&Object(u["a"])("错误:"+e.data.message)}catch(i){}return!1},getEstimateGas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,l,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=1,t.to(e());case 1:if(s=a.sent,r=Object(n["a"])(s,2),i=r[0],l=r[1],!t.doResponse(i,l)){a.next=2;break}return u=c["a"].utils.hexValue(l),d=t.hex2int(u),console.log("getEstimateGas========",d),a.abrupt("return",String(o["a"].mul(d,1.5)).split(".")[0]);case 2:return a.abrupt("return",0);case 3:case"end":return a.stop()}}),a)})))()},copyShareLink:function(e){this.h5Copy(e)},modal:function(e){this.page1=e},hide:function(){this.page1="NaN"},lock:function(e){this.sel=e}}},f=v,g=(a("b8a9"),a("2877")),m=Object(g["a"])(f,s,r,!1,null,null,null);t["default"]=m.exports}}]);