(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df809bce"],{"387e":function(e,t,r){e.exports=r.p+"img/github.b3339d73.svg"},7088:function(e,t,r){e.exports=r.p+"img/lunaray.fa8628fc.svg"},"83c9":function(e,t,r){"use strict";r("adad")},9951:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navPage iBg"},[r("navbar"),r("div",{staticClass:"row pt-1"},[r("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-3",staticStyle:{"margin-top":"10px"}},[r("ul",{staticClass:"row List left",staticStyle:{width:"100%"}},[r("li",{class:e.orderLP>=300?"col-24 True":"col-24 False"},[r("div",{staticClass:"text-md pb-2"},[e._v(e._s(e.$t("MyStake")))]),r("div",{staticClass:"text-xxl text-light-y"},[e._v(e._s(e.orderLP.toFixed(3)))])]),r("li",{class:e.inviteCount>=2?"col-24 True":"col-24 False"},[r("div",{staticClass:"text-md pb-2"},[e._v(e._s(e.$t("ValidPromotion")))]),r("div",{staticClass:"text-xxl text-light-y"},[e._v(e._s(e.inviteCount))])]),r("li",{class:e.stakeDuration>=360?"col-24 True":"col-24 False"},[r("div",{staticClass:"text-md pb-2"},[e._v(e._s(e.$t("ContractDuration")))]),r("div",{staticClass:"text-xxl text-light-y"},[e._v(e._s(e.stakeDuration))])])]),0==e.level?r("div",{staticClass:"mt-1 py-1 col-24"},[e.orderLP>=300&&e.inviteCount>=2&&e.stakeDuration>=360?r("button",{staticClass:"btn xl bg-gradual-cyan block text-bold",on:{click:e.upgrade}},[e._v("申请节点")]):r("button",{staticClass:"btn xl bg-gradual-cyan block text-bold",attrs:{disabled:""}},[e._v(e._s(e.$t("ApplyforNode")))])]):e._e()]),2==e.level?r("div",{staticClass:"mt-2 col-22 offset-1 radius bg-white shadow row p-3 left"},[r("div",{staticClass:"col-24"},[e._v(e._s(e.$t("GenesisNode")))]),r("div",{staticClass:"row col-24"},[r("div",{staticClass:"flex-1 text-bold py-2"},[r("span",{staticClass:"text-xxl"},[e._v(e._s(e.nodeReward.toFixed(5)))]),r("span",{staticClass:"text-lg ml-1"},[e._v("Mas")])]),r("div",{staticClass:"col-auto"},[r("button",{staticClass:"btn bg-gradual-purple radius",staticStyle:{"margin-right":"10px"},on:{click:e.getReceiveNodeReward}},[e._v(e._s(e.$t("Claim")))])])])]):e._e(),e.level>0?r("div",{staticClass:"mt-2 col-22 offset-1 radius bg-white shadow row p-3 left"},[r("div",{staticClass:"col-24"},[e._v(e._s(e.$t("DAODividend")))]),r("div",{staticClass:"row col-24"},[r("div",{staticClass:"flex-1 text-bold py-2"},[r("span",{staticClass:"text-xxl"},[e._v(e._s(e.shareReward.toFixed(5)))]),r("span",{staticClass:"text-lg ml-1"},[e._v("Mas")])]),r("div",{staticClass:"col-auto"},[r("button",{staticClass:"btn bg-gradual-purple radius",staticStyle:{"margin-right":"10px"},on:{click:e.getReceiveShareNodeReward}},[e._v(e._s(e.$t("Claim")))])])])]):e._e()]),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"friendLink mt-5 mb-n3"},[a("a",{attrs:{href:"#"}},[a("img",{attrs:{src:r("387e"),alt:""}}),a("span",[e._v("github")])]),a("a",{attrs:{href:"#"}},[a("img",{attrs:{src:r("a3df"),alt:""}}),a("span",[e._v("twitter")])]),a("a",{attrs:{href:"#"}},[a("img",{attrs:{src:r("7088"),alt:""}}),a("span",[e._v("lunaray")])])])}],s=r("3835"),i=r("1da1"),c=(r("e9f5"),r("9485"),r("d3b7"),r("96cf"),r("fa7d")),o=r("c030"),u=r("780e"),d=r("d399"),l=r("403a"),g=r("9d8d"),f={components:{navbar:g["a"]},data:function(){return{contractAddress:"0xAB5e7d4bcE5fDFB950cC4174d1fB3329D8765cF3",masTokenAddress:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",uTokenAddress:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64",myAddress:"",decimals:18,config:l["a"],shareNodesCount:0,createNodesCount:0,maxCreateNodesCount:190,maxShareNodesCount:999,inviteCount:0,stakeDuration:0,orderLP:0,level:0,nodeReward:0,shareReward:0,gasLimit:382040,min_gasprice:1,Price:0}},mixins:[c["b"],c["c"],c["d"],c["e"],c["a"]],created:function(){this.init()},methods:{init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,c,d,l,g,f,p,m,x,b,h,v,w,R,C,_,k,O,j,y,S,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=1;break}return t.abrupt("return");case 1:return t.next=2,e.provider.getGasPrice();case 2:return r=t.sent,r=o["a"].utils.formatUnits(r,"gwei"),r>e.min_gasprice&&(e.min_gasprice=r),a=new o["a"].Contract(e.contractAddress,u["a"],e.signer),e.contract=a,t.next=3,e.to(e.contract.getEffectiveInviteCount(e.myAddress));case 3:return n=t.sent,i=Object(s["a"])(n,2),c=i[0],d=i[1],e.doResponse(c,d)&&(e.inviteCount=d),t.next=4,e.to(e.contract._order1(e.myAddress));case 4:return l=t.sent,g=Object(s["a"])(l,2),f=g[0],p=g[1],e.doResponse(f,p)&&(e.orderLP=e.fixNumber(p[2]),m=p[5],e.stakeDuration=Math.max(m,e.stakeDuration)),t.next=5,e.to(e.contract._order2(e.myAddress));case 5:return x=t.sent,b=Object(s["a"])(x,2),h=b[0],v=b[1],e.doResponse(h,v)&&(e.orderLP+=e.fixNumber(v[2]),w=v[5],e.stakeDuration=Math.max(w,e.stakeDuration)),t.next=6,e.to(e.contract._order3(e.myAddress));case 6:return R=t.sent,C=Object(s["a"])(R,2),_=C[0],k=C[1],e.doResponse(_,k)&&(e.orderLP+=e.fixNumber(k[2]),O=k[5],e.stakeDuration=Math.max(O,e.stakeDuration)),t.next=7,e.to(e.contract.level(e.myAddress));case 7:return j=t.sent,y=Object(s["a"])(j,2),S=y[0],A=y[1],e.doResponse(S,A)&&(e.level=A),t.next=8,e.getRewardInfo();case 8:case"end":return t.stop()}}),t)})))()},getRewardInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,c,o,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.to(e.contract.nodeReward(e.myAddress));case 1:return r=t.sent,a=Object(s["a"])(r,2),n=a[0],i=a[1],e.doResponse(n,i,"nodeReward"),t.next=2,e.to(e.contract.shareReward(e.myAddress));case 2:c=t.sent,o=Object(s["a"])(c,2),u=o[0],d=o[1],e.doResponse(u,d,"shareReward");case 3:case"end":return t.stop()}}),t)})))()},notifyShareAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.getEstimateGas((function(){return e.contract.estimateGas.notifyShareAmount({gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 1:if(r=t.sent,0!==r){t.next=2;break}return t.abrupt("return");case 2:return t.next=3,e.to(e.contract.notifyShareAmount({gasLimit:r,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 3:if(a=t.sent,n=Object(s["a"])(a,2),i=n[0],c=n[1],!e.doResponse(i,c,"")){t.next=4;break}return e.showAdmStartMint=!1,Object(d["a"])(e.$t("Successpleasewaitfortheblockpackresult")),t.next=4,e.queryTransation(c.hash);case 4:case"end":return t.stop()}}),t)})))()},upgrade:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,e.getEstimateGas((function(){return e.contract.estimateGas.upgrade()}));case 1:if(r=t.sent,0!==r){t.next=2;break}return t.abrupt("return");case 2:return t.next=3,e.to(e.contract.upgrade({gasLimit:r,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 3:if(a=t.sent,n=Object(s["a"])(a,2),i=n[0],c=n[1],!e.doResponse(i,c)){t.next=4;break}return e.showBurnFlag=!1,Object(d["a"])(e.$t("operateSuccess")),t.next=4,e.queryTransation(c.hash,!0);case 4:case"end":return t.stop()}}),t)})))()},getReceiveNodeReward:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.nodeReward<=0)){t.next=1;break}return Object(d["a"])(e.$t("Noneedtoclaim")),t.abrupt("return");case 1:return t.next=2,e.getEstimateGas((function(){return e.contract.estimateGas.getNodeReward({gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 2:if(r=t.sent,0!==r){t.next=3;break}return t.abrupt("return");case 3:return t.next=4,e.to(e.contract.getNodeReward({gasLimit:r,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 4:if(a=t.sent,n=Object(s["a"])(a,2),i=n[0],c=n[1],!e.doResponse(i,c,"")){t.next=5;break}return console.log(i),console.log(c),e.incomeFlag=!1,Object(d["a"])(e.$t("receivedSuccess")),t.next=5,e.queryTransation(c.hash,!0);case 5:case"end":return t.stop()}}),t)})))()},getReceiveShareNodeReward:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.shareReward<=0)){t.next=1;break}return Object(d["a"])(e.$t("Noneedtoclaim")),t.abrupt("return");case 1:return t.next=2,e.getEstimateGas((function(){return e.contract.estimateGas.getSahreReward({gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 2:if(r=t.sent,0!==r){t.next=3;break}return t.abrupt("return");case 3:return t.next=4,e.to(e.contract.getSahreReward({gasLimit:r,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 4:if(a=t.sent,n=Object(s["a"])(a,2),i=n[0],c=n[1],!e.doResponse(i,c,"")){t.next=5;break}return console.log(i),console.log(c),e.incomeFlag=!1,Object(d["a"])(e.$t("receivedSuccess")),t.next=5,e.queryTransation(c.hash,!0);case 5:case"end":return t.stop()}}),t)})))()},queryTransation:function(e,t,r){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,a.provider.waitForTransaction(e).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(d["a"])(a.$t("blockSuccess"),t),console.log(t),!r){e.next=1;break}r(),e.next=2;break;case 1:return e.next=2,a.getRewardInfo();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e)return 0;var t=o["a"].utils.hexValue(e);return this.hex2int(t)/o["a"].BigNumber.from(10).pow(this.decimals)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,r=e.length,a=new Array(r),n=0;n<r;n++)t=e.charCodeAt(n),48<=t&&t<58?t-=48:t=(223&t)-65+10,a[n]=t;return a.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(null==e){if(r){var n=o["a"].utils.hexValue(t),s=this.hex2int(n)/o["a"].BigNumber.from(10).pow(a);this[r]=s}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(d["a"])(this.$t("Error")+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(d["a"])(this.$t("InsufficientMinerFee")):4001===e.code||"cancelled"===e?Object(d["a"])(this.$t("Transactioncancelled")):e.data.message.indexOf("gas")>0?Object(d["a"])(this.$t("InsufficientMinerFee")):e.data.message.indexOf("RPC")>0?Object(d["a"])(this.$t("Anerroroccurredonthisnodepleaseswitchtoanothernode")):e.data.message.indexOf("reverted")>0&&Object(d["a"])(this.$t("Error")+e.data.message)}catch(i){}return!1},getEstimateGas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,i,u,d,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=1,t.to(e());case 1:if(a=r.sent,n=Object(s["a"])(a,2),i=n[0],u=n[1],!t.doResponse(i,u)){r.next=2;break}return d=o["a"].utils.hexValue(u),l=t.hex2int(d),console.log("getEstimateGas========",l),r.abrupt("return",String(c["a"].mul(l,1.5)).split(".")[0]);case 2:return r.abrupt("return",0);case 3:case"end":return r.stop()}}),r)})))()}}},p=f,m=(r("83c9"),r("2877")),x=Object(m["a"])(p,a,n,!1,null,null,null);t["default"]=x.exports},a3df:function(e,t,r){e.exports=r.p+"img/twitter.449bf25b.svg"},adad:function(e,t,r){}}]);