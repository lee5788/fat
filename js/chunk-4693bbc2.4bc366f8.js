(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4693bbc2"],{"83c9":function(e,t,r){"use strict";r("adad")},9951:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navPage iBg"},[r("navbar"),r("div",{staticClass:"row pt-5"},[r("ul",{staticClass:"col-22 flex offset-1 mt-5"},e._l(e.kuang,(function(t,n){return r("li",{key:n,class:["flex-1 tab1 py-2",{"bl-solid":n>0,Cur:n===e.tabCur}],on:{click:function(t){return e.tabSelect(n)}}},[r("span",[e._v(e._s(e.$t(t)))])])})),0),r("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-4 mt-3"},[r("div",{staticClass:"col-24 left py-1"},[e._v("订单列表：")]),e._l(e.nodes,(function(t,n){return r("div",{key:n,staticClass:"col-24 left py-1"},[e._v(" "+e._s(n+1)+" - "+e._s(e.islice(t.address))+" "),r("div",{staticClass:"flex by-solid mt-2"},[r("div",{staticClass:"flex-3"},[r("div",{staticClass:"text-md"},[e._v("碎片本金("+e._s(e.fixNumber(t.order.USDT).toFixed(2))+")")]),r("span",{staticClass:"text-sm"},[e._v(" 收益:"+e._s(e.fixNumber(t.order.Rewards).toFixed(2))+"/"+e._s(e.fixNumber(t.order.topReward).toFixed(2))+" ")])]),r("div",{staticClass:"flex-2 right"},[r("span",{staticClass:"text-md"},[e._v(e._s(e.timestampToTime(t.order.Finish)))]),e._m(0,!0)])])])})),0===e.nodes.length?r("div",{staticStyle:{"text-align":"center",color:"#ccc"}},[e._v(" 无信息 ")]):e._e()],2)])],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"text-sm"})])}],s=r("3835"),c=r("1da1"),i=(r("14d9"),r("e9f5"),r("9485"),r("d3b7"),r("96cf"),r("fa7d")),o=r("c030"),u=r("780e"),d=r("d399"),l=r("403a"),f=r("9d8d"),b={components:{navbar:f["a"]},data:function(){return{kuang:["5D","7D","15D","30D"],tabCur:0,myAddress:"",contractAddress:"0x82A8a733bAc8e25DB3D08db52F488179FE26D1CD",masTokenAddress:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",uTokenAddress:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64",decimals:18,config:l["a"],gasLimit:382040,nodes:[],min_gasprice:1}},mixins:[i["b"],i["c"],i["d"],i["e"],i["a"]],created:function(){this.init()},methods:{init:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=1;break}return t.abrupt("return");case 1:return e.bus.$emit("loading",!0),t.next=2,e.provider.getGasPrice();case 2:r=t.sent,r=o["a"].utils.formatUnits(r,"gwei"),r>e.min_gasprice&&(e.min_gasprice=r),n=new o["a"].Contract(e.contractAddress,u["a"],e.signer),e.contract=n,e.getOrder(1),e.bus.$emit("loading",!1);case 3:case"end":return t.stop()}}),t)})))()},tabSelect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.tabCur=e,t.getOrder(t.tabCur+1);case 1:case"end":return r.stop()}}),r)})))()},getOrder:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a,c,i,o,u,d,l,f,b,x,p,m,g,h,v,w,k,O,_,C,R,j,F,D,y,A,E,T,N,U,S,B,I,$,G,P,L,V,J,q,M;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),n=0,r.next=1,t.to(t.contract.getTotalUsers(e));case 1:a=r.sent,c=Object(s["a"])(a,2),i=c[0],o=c[1],t.doResponse(i,o)&&(n+=parseInt(o)),t.nodes=[],u=0;case 2:if(!(u<n)){r.next=18;break}if(1!=e){r.next=6;break}return r.next=3,t.to(t.contract.stakeUsers1(u));case 3:if(d=r.sent,l=Object(s["a"])(d,2),f=l[0],b=l[1],!t.doResponse(f,b)){r.next=5;break}return x={},r.next=4,t.to(t.contract._order1(b));case 4:p=r.sent,m=Object(s["a"])(p,2),g=m[0],h=m[1],t.doResponse(g,h)&&(x=h),t.nodes.push({address:b,order:x});case 5:r.next=17;break;case 6:if(2!=e){r.next=10;break}return r.next=7,t.to(t.contract.stakeUsers2(u));case 7:if(v=r.sent,w=Object(s["a"])(v,2),k=w[0],O=w[1],!t.doResponse(k,O)){r.next=9;break}return _={},r.next=8,t.to(t.contract._order2(O));case 8:C=r.sent,R=Object(s["a"])(C,2),j=R[0],F=R[1],t.doResponse(j,F)&&(_=F),t.nodes.push({address:O,order:_});case 9:r.next=17;break;case 10:if(3!=e){r.next=14;break}return r.next=11,t.to(t.contract.stakeUsers3(u));case 11:if(D=r.sent,y=Object(s["a"])(D,2),A=y[0],E=y[1],!t.doResponse(A,E)){r.next=13;break}return T={},r.next=12,t.to(t.contract._order3(E));case 12:N=r.sent,U=Object(s["a"])(N,2),S=U[0],B=U[1],t.doResponse(S,B)&&(T=B),t.nodes.push({address:E,order:T});case 13:r.next=17;break;case 14:if(4!=e){r.next=17;break}return r.next=15,t.to(t.contract.stakeUsers4(u));case 15:if(I=r.sent,$=Object(s["a"])(I,2),G=$[0],P=$[1],!t.doResponse(G,P)){r.next=17;break}return L={},r.next=16,t.to(t.contract._order4(P));case 16:V=r.sent,J=Object(s["a"])(V,2),q=J[0],M=J[1],t.doResponse(q,M)&&(L=M),t.nodes.push({address:P,order:L});case 17:u++,r.next=2;break;case 18:case"end":return r.stop()}}),r)})))()},search:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init();case 1:case"end":return t.stop()}}),t)})))()},queryTransation:function(e,t,r){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,n.provider.waitForTransaction(e).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(d["a"])(n.$t("blockSuccess"),t),console.log(t),r&&r();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e)return 0;var t=o["a"].utils.hexValue(e);return this.hex2int(t)/o["a"].BigNumber.from(10).pow(this.decimals)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,r=e.length,n=new Array(r),a=0;a<r;a++)t=e.charCodeAt(a),48<=t&&t<58?t-=48:t=(223&t)-65+10,n[a]=t;return n.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(null==e){if(r){var a=o["a"].utils.hexValue(t),s=this.hex2int(a)/o["a"].BigNumber.from(10).pow(n);this[r]=s}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(d["a"])("错误:"+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(d["a"])("矿工费不足"):4001===e.code||"cancelled"===e?Object(d["a"])("交易取消"):e.data.message.indexOf("gas")>0?Object(d["a"])("矿工费不足"):e.data.message.indexOf("RPC")>0?Object(d["a"])("节点异常，请切换节点"):e.data.message.indexOf("reverted")>0&&Object(d["a"])("错误:"+e.data.message)}catch(c){}return!1},getEstimateGas:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a,c,u,d,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=1,t.to(e());case 1:if(n=r.sent,a=Object(s["a"])(n,2),c=a[0],u=a[1],!t.doResponse(c,u)){r.next=2;break}return d=o["a"].utils.hexValue(u),l=t.hex2int(d),console.log("getEstimateGas========",l),r.abrupt("return",String(i["a"].mul(l,1.5)).split(".")[0]);case 2:return r.abrupt("return",0);case 3:case"end":return r.stop()}}),r)})))()}}},x=b,p=(r("83c9"),r("2877")),m=Object(p["a"])(x,n,a,!1,null,null,null);t["default"]=m.exports},adad:function(e,t,r){}}]);