(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f18f070"],{b8a9:function(e,t,a){"use strict";a("b923")},b923:function(e,t,a){},e583:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navPage iBg"},[a("navbar"),a("div",{staticClass:"row pt-4"},[a("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-4"},[a("div",{staticClass:"col-24 text-bold pb-3 bb-solid mb-2"},[e._v("管理员")]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("5天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(this.PoolUsers[0])+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("7天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.techCount)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("15天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.agCount)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("30天订单数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.exCount)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("平台手续费：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.totalSys)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("底池：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.totalPot)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("USDT余额：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.balanceOfUSDT)+" ")])]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("FTA余额：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.balanceOfMAS)+" ")])]),a("div",{staticClass:"col-24 left py-1"}),a("div",{staticClass:"col-24 left pt-1"})]),a("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[a("div",{staticClass:"col-24 bb-solid text-sxl pb-2"},[e._v("添加股东节点")]),a("div",{staticClass:"col-24 left row py-2 align-center"},[a("div",{staticClass:"col-8"},[e._v("股东人数：")]),a("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.createNodesCount)+" ")])]),a("div",{staticClass:"col-24 left py-1 row"},[a("div",{staticClass:"flex"},[e._v(" 股东地址："),a("input",{directives:[{name:"model",rawName:"v-model",value:e.createNodesAddressInput,expression:"createNodesAddressInput"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ",attrs:{type:"text"},domProps:{value:e.createNodesAddressInput},on:{input:function(t){t.target.composing||(e.createNodesAddressInput=t.target.value)}}})]),a("div",{staticClass:"flex mt-2"},[e._v("USDT："),a("input",{directives:[{name:"model",rawName:"v-model",value:e.NodeReceiveAmount,expression:"NodeReceiveAmount"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ml-2",attrs:{type:"number"},domProps:{value:e.NodeReceiveAmount},on:{input:function(t){t.target.composing||(e.NodeReceiveAmount=t.target.value)}}})]),a("div",{staticClass:"ml-1 flex"},[a("button",{staticClass:"btn bg-gradual-purple block",on:{click:e.AddNode}},[e._v("添加")])])])]),a("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[a("div",{staticClass:"col-24 bb-solid text-sxl pb-2"},[e._v("碎片分红")]),a("div",{staticClass:"col-24 mt-2"},[a("button",{staticClass:"btn xl bg-gradual-red block",on:{click:e.notifyRewardAmount}},[e._v("手动执行分红")])])]),a("div",{staticClass:"col-22 offset-1 radius bg-white shadow left p-4 row mt-3 lh-32"},[a("div",{staticClass:"col-24 left py-2 row"},[a("div",{staticClass:"flex-1"},[e._v("FTA价格"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ftaPrice,expression:"ftaPrice"}],staticClass:"flex-1 ball-solid lh-32 radius px-2 ml-2",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:e.ftaPrice},on:{input:function(t){t.target.composing||(e.ftaPrice=t.target.value)}}})]),a("button",{staticClass:"btn  bg-gradual-purple ml-2",staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.setFTAPrice()}}},[e._v("设置")])])])])],1)},s=[],n=a("3835"),i=a("1da1"),c=(a("d3b7"),a("ac1f"),a("1276"),a("96cf"),a("fa7d")),o=a("c030"),u=a("780e"),l=a("d399"),d=a("403a"),p=a("9d8d"),v={components:{navbar:p["a"]},data:function(){return{myAddress:"",nodetype:"1",createNodesAddressInput:"",contractAddress:"0x9B0526f0B9e6941E1D1A1072D533F946236CC1f3",masTokenAddress:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",uTokenAddress:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64",decimals:18,config:d["a"],totalPower:0,totalSupplyLP:0,totalBrun:0,totalRewards:0,NodeReceiveAmount:0,NodeDayRelease:23.5,NodeReceiveInterval:0,gasLimit:382040,techCount:0,nodeCount:0,agCount:0,exCount:0,shareTotalLP:0,TotalUsers:0,min_gasprice:1,nodeReceiveInterval:0,nodeDayRelease:0,pool1:{},pool2:{},pool3:{},pool4:{},PoolPower:[0,0,0,0],PoolUsers:[0,0,0,0],PoolLP:[0,0,0,0],PoolDayRelease:[0,0,0,0],balanceOfUSDT:0,balanceOfMAS:0,totalSys:0,totalPot:0,createNodesCount:0,ftaPrice:.02}},mixins:[c["b"],c["c"],c["d"],c["e"],c["a"]],created:function(){this.init()},methods:{init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i,c,l,d,p,v,f,g,m,b,w,x,h,C,R;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.provider.getGasPrice();case 4:return a=t.sent,a=o["a"].utils.formatUnits(a,"gwei"),a>e.min_gasprice&&(e.min_gasprice=a),r=new o["a"].Contract(e.contractAddress,u["a"],e.signer),e.contract=r,t.next=11,e.to(e.contract._totalPot());case 11:return s=t.sent,i=Object(n["a"])(s,2),c=i[0],l=i[1],e.doResponse(c,l,"totalPot"),t.next=18,e.to(e.contract._totalSys());case 18:return d=t.sent,p=Object(n["a"])(d,2),v=p[0],f=p[1],e.doResponse(v,f,"totalSys"),t.next=25,e.to(e.contract.getTotalUsers(1));case 25:return g=t.sent,m=Object(n["a"])(g,2),b=m[0],w=m[1],e.doResponse(b,w)&&(e.PoolUsers[0]=w),t.next=32,e.to(e.contract.getTokenBalance());case 32:x=t.sent,h=Object(n["a"])(x,2),C=h[0],R=h[1],e.doResponse(C,R)&&(C||(e.balanceOfUSDT=e.fixNumber(R[0]),e.balanceOfMAS=e.fixNumber(R[1])));case 37:case"end":return t.stop()}}),t)})))()},AddNode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.createNodesAddressInput){t.next=3;break}return Object(l["a"])("地址不能为空"),t.abrupt("return");case 3:if(e.createNodesAddressInput.toLowerCase()!=e.contractAddress.toLowerCase()){t.next=7;break}return Object(l["a"])(e.$t("notContract")),e.createNodesAddressInput="",t.abrupt("return");case 7:if(""!=e.NodeReceiveAmount){t.next=10;break}return Object(l["a"])("数量不能为空"),t.abrupt("return");case 10:return t.next=12,e.to(e.contract.setNodeShare(e.createNodesAddressInput,e.NodeReceiveAmount,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 12:a=t.sent,r=Object(n["a"])(a,2),s=r[0],i=r[1],e.doResponse(s,i)&&(e.createNodesAddressInput,Object(l["a"])("操作成功，请等待区块打包结果!"));case 17:case"end":return t.stop()}}),t)})))()},setFTAPrice:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.to(e.contract.setFTAPrice(1e5*e.ftaPrice,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 2:a=t.sent,r=Object(n["a"])(a,2),s=r[0],i=r[1],e.doResponse(s,i)&&Object(l["a"])("修改成功");case 7:case"end":return t.stop()}}),t)})))()},setPoolDayRelease:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.PoolDayRelease[e-1]<0)){a.next=3;break}return Object(l["a"])("数量不能小于0"),a.abrupt("return");case 3:return a.next=5,t.to(t.contract.setPoolDayRelease(e,t.PoolDayRelease[e-1],{gasPrice:o["a"].utils.parseUnits(String(t.min_gasprice),"gwei")}));case 5:r=a.sent,s=Object(n["a"])(r,2),i=s[0],c=s[1],t.doResponse(i,c)&&Object(l["a"])("修改成功");case 10:case"end":return a.stop()}}),a)})))()},setPoolAllowStake:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.to(t.contract.setAllowStake(e,{gasPrice:o["a"].utils.parseUnits(String(t.min_gasprice),"gwei")}));case 2:r=a.sent,s=Object(n["a"])(r,2),i=s[0],c=s[1],t.doResponse(i,c)&&Object(l["a"])("修改成功");case 7:case"end":return a.stop()}}),a)})))()},setNodeReceiveAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.to(e.contract.setNodeReceiveAmount(e.NodeReceiveAmount,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 2:a=t.sent,r=Object(n["a"])(a,2),s=r[0],i=r[1],e.doResponse(s,i)&&Object(l["a"])("修改成功");case 7:case"end":return t.stop()}}),t)})))()},setNodeReceiveInterval:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.to(e.contract.setNodeReceiveInterval(e.NodeReceiveInterval,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 2:a=t.sent,r=Object(n["a"])(a,2),s=r[0],i=r[1],e.doResponse(s,i)&&Object(l["a"])("修改成功");case 7:case"end":return t.stop()}}),t)})))()},setNodeDayRelease:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.to(e.contract.setNodeDayRelease(e.NodeDayRelease,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 2:a=t.sent,r=Object(n["a"])(a,2),s=r[0],i=r[1],e.doResponse(s,i)&&Object(l["a"])("修改成功");case 7:case"end":return t.stop()}}),t)})))()},setAllowStake:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.to(t.contract.setAllowStake(e,{gasPrice:o["a"].utils.parseUnits(String(t.min_gasprice),"gwei")}));case 2:r=a.sent,s=Object(n["a"])(r,2),i=s[0],c=s[1],t.doResponse(i,c)&&Object(l["a"])("修改成功");case 7:case"end":return a.stop()}}),a)})))()},notifyRewardAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEstimateGas((function(){return e.contract.estimateGas.notifyRewardAmount({gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 2:if(a=t.sent,0!==a){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.to(e.contract.notifyRewardAmount({gasLimit:a,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 7:if(r=t.sent,s=Object(n["a"])(r,2),i=s[0],c=s[1],!e.doResponse(i,c,"")){t.next=16;break}return e.showAdmStartMint=!1,Object(l["a"])(e.$t("操作成功，请等待区块打包结果!")),t.next=16,e.queryTransation(c.hash);case 16:case"end":return t.stop()}}),t)})))()},notifyShareAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEstimateGas((function(){return e.contract.estimateGas.processNode(5e5,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 2:if(a=t.sent,0!==a){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.to(e.contract.processNode(5e5,{gasLimit:a,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 7:if(r=t.sent,s=Object(n["a"])(r,2),i=s[0],c=s[1],!e.doResponse(i,c,"")){t.next=16;break}return e.showAdmStartMint=!1,Object(l["a"])("操作成功，请等待区块打包结果!"),t.next=16,e.queryTransation(c.hash);case 16:case"end":return t.stop()}}),t)})))()},queryTransation:function(e,t,a){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.provider.waitForTransaction(e).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(l["a"])(r.$t("blockSuccess"),t),console.log(t),a&&a();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e||void 0==e)return 0;var t=o["a"].utils.hexValue(e);return this.hex2int(t)/o["a"].BigNumber.from(10).pow(this.decimals)},fixNumber2:function(e){if(0==e||void 0==e)return 0;var t=o["a"].utils.hexValue(e);return this.hex2int(t)/o["a"].BigNumber.from(10).pow(9)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,a=e.length,r=new Array(a),s=0;s<a;s++)t=e.charCodeAt(s),48<=t&&t<58?t-=48:t=(223&t)-65+10,r[s]=t;return r.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(console.log(a+"================",e,t),null==e){if(a){var s=o["a"].utils.hexValue(t),n=this.hex2int(s)/o["a"].BigNumber.from(10).pow(r);this[a]=n}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(l["a"])("错误:"+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(l["a"])("矿工费不足"):4001===e.code||"cancelled"===e?Object(l["a"])("交易取消"):e.data.message.indexOf("gas")>0?Object(l["a"])("矿工费不足"):e.data.message.indexOf("RPC")>0?Object(l["a"])("节点异常，请切换节点"):e.data.message.indexOf("reverted")>0&&Object(l["a"])("错误:"+e.data.message)}catch(i){}return!1},getEstimateGas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s,i,u,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.to(e());case 2:if(r=a.sent,s=Object(n["a"])(r,2),i=s[0],u=s[1],!t.doResponse(i,u)){a.next=13;break}return l=o["a"].utils.hexValue(u),d=t.hex2int(l),console.log("getEstimateGas========",d),a.abrupt("return",String(c["a"].mul(d,1.5)).split(".")[0]);case 13:return a.abrupt("return",0);case 14:case"end":return a.stop()}}),a)})))()},copyShareLink:function(e){this.h5Copy(e)},modal:function(e){this.page1=e},hide:function(){this.page1="NaN"},lock:function(e){this.sel=e}}},f=v,g=(a("b8a9"),a("2877")),m=Object(g["a"])(f,r,s,!1,null,null,null);t["default"]=m.exports}}]);