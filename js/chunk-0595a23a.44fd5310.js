(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0595a23a"],{"1a7b":function(t,e,s){t.exports=s.p+"img/copys.fd67e332.svg"},"2b49":function(t,e,s){},"38db":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navPage iBg"},[n("navbar"),n("div",{staticClass:"tBg radius-t-2 mx-3 p-3"},[n("div",{staticClass:"left"},[n("div",{staticClass:"comment-react"},[t._m(0),n("hr"),0==t.userLevel?n("span",[t._v("VIP")]):t._e(),1==t.userLevel?n("span",[t._v("IB")]):t._e(),2==t.userLevel?n("span",[t._v("MIB")]):t._e(),3==t.userLevel?n("span",[t._v("PIB")]):t._e(),4==t.userLevel?n("span",[t._v("VIB")]):t._e()])]),n("div",{staticClass:"center py-3 text-xxl"},[t._v(t._s(t.$t("Consensus")))]),n("div",{staticClass:"right text-i"},[t._v("1FTA = $"+t._s(t.masPrice.toFixed(2)))])]),n("div",{staticClass:"flex bg-ii mx-3 py-3 radius-b-2"},[n("div",{staticClass:"flex-1 br-solid"},[n("div",{staticClass:"text-md mb-1"},[t._v(t._s(t.$t("PromoteAddress")))]),n("div",{staticClass:"text-red text-bold"},[t._v(t._s(t.inviteCount))])]),n("div",{staticClass:"flex-1"},[n("div",{staticClass:"text-md mb-1"},[t._v(t._s(t.$t("ValidPromotion")))]),n("div",{staticClass:"text-red text-bold"},[t._v(t._s(t.effectiveInviteCount))])])]),n("div",{staticClass:"row pt-5"},[n("div",{staticClass:"col-22 offset-1 radius card shadow row p-4"},[n("div",{staticClass:"col-24 left pb-1 pt-3 row align-center"},[n("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("MyAddress"))+"：")]),n("div",{staticClass:"flex-1 right-con text-white",staticStyle:{overflow:"hidden"}},[t._v(" "+t._s(t.islice(t.myAddress))+" ")]),n("div",{staticClass:"center ml-2"},[n("img",{attrs:{src:s("1a7b")},on:{click:function(e){return t.copyShareLink(t.myAddress)}}})])]),n("div",{staticClass:"col-24 left row py-2 align-center"},[n("div",{staticClass:"right left-tit"},[t._v("邀请人：")]),""!=t.inviteAddress?n("div",{staticClass:"flex-1 right-con"},[t._v(" "+t._s(t.islice(t.inviteAddress))+" ")]):n("div",{staticClass:"flex-1 right-con"},[n("button",{staticClass:"button ml-3",staticStyle:{float:"left","background-color":"rgb(200 107 79)"},on:{click:function(e){return t.modal("aaa")}}},[t._v(" 绑定邀请人 "),n("svg",{staticClass:"icon",attrs:{viewBox:"0 0 24 24",fill:"currentColor"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm4.28 10.28a.75.75 0 000-1.06l-3-3a.75.75 0 10-1.06 1.06l1.72 1.72H8.25a.75.75 0 000 1.5h5.69l-1.72 1.72a.75.75 0 101.06 1.06l3-3z","clip-rule":"evenodd"}})])])])]),n("div",{staticClass:"col-24 left row py-2 align-center"},[n("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("teamlp"))+"：")]),n("div",{staticClass:"flex-1 right-con text-white"},[t._v(" "+t._s(t.tdLP.toFixed(0))+" ")])])]),n("div",{staticClass:"col-22 offset-1 radius card shadow row p-4 mt-3"},[n("div",{staticClass:"col-24 left py-1"},[t._v(t._s(t.$t("MyPromotion"))+"：")]),t._l(t.ztAddress,(function(e,s){return n("div",{key:s,staticClass:"col-24 left py-2"},[t._v(t._s(s+1)+" - "+t._s(e))])}))],2)]),n("modal",{attrs:{show:t.home,name:"aaa"},on:{cancel:t.hide}},[n("div",{staticClass:"pt-3"},[n("div",{staticClass:"text-xl text-white left pl-5"},[t._v(" "+t._s(t.$t("MyAddress"))+" ")]),n("div",{staticClass:"text-lg text-orange left pl-5 pt-3 pb-5"},[t._v(" "+t._s(t.islice(t.myAddress))+" ")]),n("div",{staticClass:"pb-1 text-white left pl-5 mb-2 text-lg"},[t._v(" "+t._s(t.$t("BindInviter"))+" ")]),n("div",{staticClass:"px-5 flex",attrs:{id:""}},[""!=t.inviteAddress?n("div",{staticClass:"num ellipsis"},[t._v(" "+t._s(t.islice(t.inviteAddress))+" ")]):n("input",{directives:[{name:"model",rawName:"v-model",value:t.inviteAddressInput,expression:"inviteAddressInput"}],staticClass:"flex-1 ball-solid lh-40 radius px-2 bg-transp holder-color",attrs:{type:"text",placeholder:t.$t("Pleaseentertheaddressoftheinviter")},domProps:{value:t.inviteAddressInput},on:{input:function(e){e.target.composing||(t.inviteAddressInput=e.target.value)}}}),""!=t.inviteAddress&&"0x0000000000000000000000000000000000000000"!=t.inviteAddress?n("div",{staticClass:"text1",staticStyle:{color:"#999","margin-left":"10px"}},[t._v(" "+t._s(t.$t("Bound"))+" ")]):n("button",{staticClass:"button mt-3 mb-5",staticStyle:{float:"left",width:"100%","line-height":"25px"},on:{click:t.registration}},[t._v(" "+t._s(t.$t("BindInviter"))+" ")])])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("div",{staticClass:"iconfont icon-kuangye",staticStyle:{"font-size":"18px"}})])}],a=s("3835"),r=s("1da1"),c=(s("96cf"),s("14d9"),s("e9f5"),s("9485"),s("d3b7"),s("ac1f"),s("5319"),s("fa7d")),o=s("c030"),d=s("780e"),l=s("d399"),u=s("403a"),v=s("9d8d"),f=s("aff5"),p={components:{navbar:v["a"],modal:f["a"]},data:function(){return{myAddress:"",contractAddress:"0x8bf44B88941696A4b29D73851Be159F87a851450",masTokenAddress:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",uTokenAddress:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64",decimals:18,config:u["a"],tdLP:0,teamLP:0,bigLP:0,bigLPAddress:"",smallLP:0,level:0,gasLimit:382040,inviteCount:0,effectiveInviteCount:0,inviteAddressInput:"",inviteAddress:"",stakeRewards:[],ztAddress:[],min_gasprice:1,home:""}},mixins:[c["b"],c["c"],c["d"],c["e"],c["a"]],created:function(){this.init()},methods:{modal:function(t){this.home=t},hide:function(){this.home="NaN",this.inviteAddressInput=""},init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,i,r,c,l,u,v,f,p,m,h,b,x,g,C,_,w,A,y,k,I,O,$,j,P,R,L;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.signer){e.next=1;break}return e.abrupt("return");case 1:return e.next=2,t.provider.getGasPrice();case 2:return s=e.sent,s=o["a"].utils.formatUnits(s,"gwei"),s>t.min_gasprice&&(t.min_gasprice=s),n=new o["a"].Contract(t.contractAddress,d["a"],t.signer),t.contract=n,e.next=3,t.to(t.contract.inviteCount(t.myAddress));case 3:if(i=e.sent,r=Object(a["a"])(i,2),c=r[0],l=r[1],!t.doResponse(c,l)){e.next=7;break}t.inviteCount=l,u=0;case 4:if(!(u<l)){e.next=7;break}return e.next=5,t.to(t.contract.myInvite(t.myAddress,u));case 5:v=e.sent,f=Object(a["a"])(v,2),p=f[0],m=f[1],t.doResponse(p,m)&&t.ztAddress.push(t.islice(m));case 6:u++,e.next=4;break;case 7:return e.next=8,t.to(t.contract._teamLP(t.myAddress));case 8:return h=e.sent,b=Object(a["a"])(h,2),x=b[0],g=b[1],t.doResponse(x,g,"tdLP"),e.next=9,t.to(t.contract.getEffectiveInviteCount(t.myAddress));case 9:return C=e.sent,_=Object(a["a"])(C,2),w=_[0],A=_[1],t.doResponse(w,A)&&(t.effectiveInviteCount=A),e.next=10,t.to(t.contract.ftaPrice());case 10:return y=e.sent,k=Object(a["a"])(y,2),I=k[0],O=k[1],t.doResponse(I,O)&&(t.masPrice=O/1e5),e.next=11,t.to(t.contract.level(t.myAddress));case 11:return $=e.sent,j=Object(a["a"])($,2),P=j[0],R=j[1],t.doResponse(P,R)&&(t.userLevel=R,console.log("userlevel:"+R)),e.next=12,t.getInviteAddress();case 12:L=t.$route.query.address,L&&(t.urlAddress=L,""==t.inviteAddress&&(t.inviteAddressInput=L));case 13:case"end":return e.stop()}}),e)})))()},getInviteAddress:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=1,t.to(t.contract.invite(t.myAddress));case 1:s=e.sent,n=Object(a["a"])(s,2),i=n[0],r=n[1],t.doResponse(i,r)&&("0x0000000000000000000000000000000000000000"==r&&(r=""),t.inviteAddress=r),""==t.inviteAddress&&t.modal("aaa");case 2:case"end":return e.stop()}}),e)})))()},registration:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.inviteAddressInput){e.next=1;break}return Object(l["a"])(t.$t("addressPlaceholder")),e.abrupt("return");case 1:if(t.inviteAddressInput.toLowerCase()!=t.myAddress.toLowerCase()){e.next=2;break}return Object(l["a"])(t.$t("notOwner")),t.inviteAddressInput="",e.abrupt("return");case 2:if(t.inviteAddressInput.toLowerCase()!=t.contractAddress.toLowerCase()){e.next=3;break}return Object(l["a"])(t.$t("notContract")),t.inviteAddressInput="",e.abrupt("return");case 3:return e.next=4,t.to(t.contract.registration(t.inviteAddressInput,{gasPrice:o["a"].utils.parseUnits(String(t.min_gasprice),"gwei")}));case 4:s=e.sent,n=Object(a["a"])(s,2),i=n[0],r=n[1],t.doResponse(i,r)&&(Object(l["a"])(t.$t("bindSuccess")),t.inviteAddress=t.inviteAddressInput,t.hide());case 5:case"end":return e.stop()}}),e)})))()},queryTransation:function(t,e,s){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=1,n.provider.waitForTransaction(t).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])(n.$t("blockSuccess"),e),console.log(e),s&&s();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()},fixNumber:function(t){if(0==t)return 0;var e=o["a"].utils.hexValue(t);return this.hex2int(e)/o["a"].BigNumber.from(10).pow(this.decimals)},hex2int:function(t){t.indexOf("0x")>=0&&(t=t.substring("2"));for(var e,s=t.length,n=new Array(s),i=0;i<s;i++)e=t.charCodeAt(i),48<=e&&e<58?e-=48:e=(223&e)-65+10,n[i]=e;return n.reduce((function(t,e){return t=16*t+e,t}),0)},doResponse:function(t,e,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(console.log(s+"================",t,e),null==t){if(s){var i=o["a"].utils.hexValue(e),a=this.hex2int(i)/o["a"].BigNumber.from(10).pow(n);this[s]=a}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===t.code?Object(l["a"])(this.$t("Error")+t.error):"INSUFFICIENT_FUNDS"===t.code?Object(l["a"])(this.$t("InsufficientMinerFee")):4001===t.code||"cancelled"===t?Object(l["a"])(this.$t("Transactioncancelled")):t.data.message.indexOf("gas")>0?Object(l["a"])(this.$t("InsufficientMinerFee")):t.data.message.indexOf("RPC")>0?Object(l["a"])(this.$t("Anerroroccurredonthisnodepleaseswitchtoanothernode")):t.data.message.indexOf("reverted")>0&&Object(l["a"])(this.$t("Error")+t.data.message)}catch(r){}return!1},getEstimateGas:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var n,i,r,d,l,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=1,e.to(t());case 1:if(n=s.sent,i=Object(a["a"])(n,2),r=i[0],d=i[1],!e.doResponse(r,d)){s.next=2;break}return l=o["a"].utils.hexValue(d),u=e.hex2int(l),console.log("getEstimateGas========",u),s.abrupt("return",String(c["a"].mul(u,1.5)).split(".")[0]);case 2:return s.abrupt("return",0);case 3:case"end":return s.stop()}}),s)})))()},copyShareLink:function(t){var e=(window.location.href||"").split("#")[0],s=e.replace("?utm_source=tokenpocket","")+"#/home?address="+t;this.h5Copy(s)},changeEx:function(t){this.Expand=t},tabSelect:function(t){this.tabCur=t},lock:function(t){this.sel=t}}},m=p,h=(s("3e4f"),s("2877")),b=Object(h["a"])(m,n,i,!1,null,null,null);e["default"]=b.exports},"3e4f":function(t,e,s){"use strict";s("2b49")},6118:function(t,e,s){"use strict";s("8581")},8581:function(t,e,s){},aff5:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"modal",on:{click:t.handleClickCancel}},[s("div",{staticClass:"container-card bg-yellow-box"},[s("div",{staticClass:"modal-box shadow radius",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])])},i=[],a=(s("b0c0"),s("a9e3"),{name:"modal",props:{show:{type:String,default:""},name:{type:String,default:"null"},maskClosable:{type:Boolean,default:!0}},data:function(){return{}},created:function(){},methods:{handleClick:function(t){if(this.show){var e=t.currentTarget.dataset;this.$emit("click",{index:Number(e.index)})}},handleClickCancel:function(){this.maskClosable&&this.$emit("cancel")}},computed:{isShow:function(){return this.name===this.show}}}),r=a,c=(s("6118"),s("2877")),o=Object(c["a"])(r,n,i,!1,null,null,null);e["a"]=o.exports}}]);