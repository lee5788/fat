(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0a58a74"],{1431:function(e,t,a){},"5cec":function(e,t,a){"use strict";a("1431")},cc49:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["container"]},[a("div",{staticClass:"iBg navPage"},[a("navbar"),a("div",{staticClass:"tBg radius-t-2 mx-3 p-3"},[a("div",{staticClass:"left"},[e._v(e._s(e.$t("Assets")))]),a("div",{staticClass:"center py-3 text-xl"},[e._v("闪兑")]),a("div",{staticClass:"right"},[e._v("1FAT = $"+e._s(e.masPrice.toFixed(4)))])]),a("div",{staticClass:"flex bg-ii mx-3 py-3 radius-b-2"},[a("div",{staticClass:"flex-1 br-solid"},[a("div",{staticClass:"text-md mb-1"},[e._v(e._s(this.pledageList[0].symbol))]),a("div",{staticClass:"text-red text-bold"},[e._v(e._s(this.pledageList[0].totalBalance.toFixed(4)))])]),a("div",{staticClass:"flex-1"},[a("div",{staticClass:"text-md mb-1"},[e._v(e._s(this.pledageList[1].symbol))]),a("div",{staticClass:"text-red text-bold"},[e._v(e._s(this.pledageList[1].totalBalance.toFixed(4)))])])]),a("div",{staticClass:"nodeBox p-4 mt-3 cardbg radius-2 mx-3"},[e._m(0),a("div",{staticClass:"pos-relative flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.exAmount,expression:"exAmount"}],staticClass:"flex-1 ball-solid lh-40 radius px-2 bg-transp holder-color",attrs:{type:"text"},domProps:{value:e.exAmount},on:{keyup:e.calcExpectAmount,input:function(t){t.target.composing||(e.exAmount=t.target.value)}}}),a("button",{staticClass:"bg-gradual-cyan max btn sm px-3",staticStyle:{"margin-top":"0.2rem"},attrs:{type:"button"}},[e._v(" FAT ")])]),e._m(1),e._m(2),a("div",{staticClass:"pos-relative flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.recAmount,expression:"recAmount"}],staticClass:"flex-1 ball-solid lh-40 radius px-2 bg-ii holder-color",attrs:{readonly:"",type:"text"},domProps:{value:e.recAmount},on:{input:function(t){t.target.composing||(e.recAmount=t.target.value)}}}),a("button",{staticClass:"bg-gradual-cyan max btn sm px-3",staticStyle:{"margin-top":"0.2rem"},attrs:{type:"button"}},[e._v(" USDT ")])]),a("button",{staticClass:"btn xl bg-gradual-cyan block mt-5 mb-5",on:{click:e.Exchange}},[e._v(" 确认兑换 ")]),a("ul",[a("li",{staticClass:"text-sm"},[e._v(" 已累计兑换："+e._s(e.addupExchange)+" FAT ")])])])],1),a("modal",{attrs:{show:e.home,name:"aaa"},on:{cancel:e.hide}},[a("div",{staticClass:"pt-3"},[a("div",{staticClass:"text-xl text-white left pl-5"},[e._v(" "+e._s(e.$t("MyAddress"))+" ")]),a("div",{staticClass:"text-lg text-orange left pl-5 pt-3 pb-5"},[e._v(" "+e._s(e.islice(e.myAddress))+" ")]),a("div",{staticClass:"pb-1 text-white left pl-5 mb-2 text-lg"},[e._v(" "+e._s(e.$t("BindInviter"))+" ")]),a("div",{staticClass:"px-5 flex",attrs:{id:""}},[""!=e.inviteAddress?a("div",{staticClass:"num ellipsis"},[e._v(" "+e._s(e.islice(e.inviteAddress))+" ")]):a("input",{directives:[{name:"model",rawName:"v-model",value:e.inviteAddressInput,expression:"inviteAddressInput"}],staticClass:"flex-1 ball-solid lh-40 radius px-2 bg-transp holder-color",attrs:{type:"text",placeholder:e.$t("Pleaseentertheaddressoftheinviter")},domProps:{value:e.inviteAddressInput},on:{input:function(t){t.target.composing||(e.inviteAddressInput=t.target.value)}}}),""!=e.inviteAddress&&"0x0000000000000000000000000000000000000000"!=e.inviteAddress?a("div",{staticClass:"text1",staticStyle:{color:"#999","margin-left":"10px"}},[e._v(" "+e._s(e.$t("Bound"))+" ")]):a("button",{staticClass:"btn xl bg-gradual-cyan block mt-5 mb-5"},[e._v(" "+e._s(e.$t("BindInviter"))+" ")])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex pb-2"},[a("div",{staticClass:"flex-1 left text-white"},[e._v(" 转出数量： ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex pt-4"},[n("img",{staticClass:"rs",staticStyle:{height:"32px",width:"auto !important","margin-top":"10px",margin:"0 auto"},attrs:{src:a("f18e"),mode:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex pb-2"},[a("div",{staticClass:"flex-1 left text-white"},[e._v(" 接收数量： ")])])}],r=a("3835"),i=a("1da1"),c=(a("96cf"),a("b680"),a("d3b7"),a("25f0"),a("4c53"),a("ac1f"),a("1276"),a("fa7d")),o=a("c030"),u=a("780e"),l=a("2060"),d=a("d399"),m=a("403a"),p=a("9d8d"),x=a("aff5"),g={components:{navbar:p["a"],modal:x["a"]},data:function(){return{home:"",dataList:[{title:"MASAddress",value:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",icon:"i-hy-s.svg",copy:1},{title:"MASPrice",value:"0",icon:"i-mas-s.png"},{title:"AllPower",value:"0",icon:"i-1-s.svg"},{title:"AllStakeLP",value:"0",icon:"i-lp-s.svg"},{title:"BurntMAS",value:"0",icon:"i-xh-s.svg"}],decimals:18,config:m["a"],level:0,exAmount:0,addupExchange:0,recAmount:0,balance:0,rewards:0,myAddress:"",contractAddress:"0xAb4F9da11BFC394A213905ec24Ed2297dfd804dA",masTokenAddress:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93",uTokenAddress:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64",page1:"",inviteAddressInput:"",inviteAddress:"",gasLimit:382040,min_gasprice:1,masProPrice:0,masPrice:0,pledageList:[],isloging:!0,funcNameArgs:[{token:"0x4FF6F29729a422bBab75D11df0DC54d9Cc7DaE93"},{token:"0x9CdbEA9273B1953f08dC204CC7b9eFfeFEc8Cd64"}]}},created:function(){this.init()},mixins:[c["b"],c["c"],c["d"],c["e"],c["a"]],methods:{modal:function(e){this.home=e},hide:function(){this.home="NaN",this.inviteAddressInput=""},init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.provider.getGasPrice();case 4:return a=t.sent,a=o["a"].utils.formatUnits(a,"gwei"),a>e.min_gasprice&&(e.min_gasprice=a),t.next=9,e.initPledageList(e.funcNameArgs);case 9:return n=new o["a"].Contract(e.contractAddress,u["a"],e.signer),e.contract=n,t.next=13,e.to(e.contract._addupExchange(e.myAddress));case 13:s=t.sent,i=Object(r["a"])(s,2),c=i[0],l=i[1],e.doResponse(c,l)&&(e.addupExchange=e.fixNumber(l).toFixed(4));case 18:case"end":return t.stop()}}),t)})))()},Exchange:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,s,u,m,p,x,g,v,f,b,A,h,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=o["a"].FixedNumber.from(e.exAmount.toString())*Math.pow(10,e.decimals),""!=e.exAmount){t.next=4;break}return Object(d["a"])(e.$t("amountPlaceholder")),t.abrupt("return");case 4:if(!(e.exAmount>e.pledageList[0].totalBalance)){t.next=7;break}return Object(d["a"])(e.pledageList[0].symbol+e.$t("InsufficientBalance!")),t.abrupt("return");case 7:return n=new o["a"].Contract(e.masTokenAddress,l["a"],e.signer),t.next=10,e.to(n.allowance(e.myAddress,e.contract.address));case 10:if(s=t.sent,u=Object(r["a"])(s,2),m=u[0],p=u[1],x=[!1],!e.doResponse(m,p)){t.next=27;break}if(g=o["a"].utils.hexValue(p),v=c["a"].div(e.hex2int(g),o["a"].BigNumber.from(10).pow(e.decimals)),c["a"].sub(v,a)>=0){t.next=27;break}return t.next=21,e.getEstimateGas((function(){return n.estimateGas.approve(e.contract.address,e.exAmount)}));case 21:if(f=t.sent,0!==f){t.next=24;break}return t.abrupt("return");case 24:return t.next=26,e.to(n.approve(e.contract.address,"11579208923731619542357098500868790785326998466564056403945758400791312963993",{gasLimit:f,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 26:x=t.sent;case 27:if(b=x,A=Object(r["a"])(b,2),h=A[0],C=A[1],null!=h){t.next=34;break}return Object(d["a"])(e.$t("permission")),t.next=32,e.queryTransation(C.hash,null,Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.doExchange();case 1:case"end":return t.stop()}}),t)}))));case 32:t.next=35;break;case 34:e.doExchange();case 35:case"end":return t.stop()}}),t)})))()},doExchange:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("dostake:"+e.exAmount),t.next=3,e.getEstimateGas((function(){return e.contract.estimateGas.Fat2Usdt(e.exAmount,{gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")})}));case 3:if(a=t.sent,0!==a){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.to(e.contract.Fat2Usdt(e.exAmount,{gasLimit:a,gasPrice:o["a"].utils.parseUnits(String(e.min_gasprice),"gwei")}));case 8:if(n=t.sent,s=Object(r["a"])(n,2),i=s[0],c=s[1],!e.doResponse(i,c)){t.next=17;break}return e.exAmount=0,Object(d["a"])(e.$t("Successpleasewaitfortheblockpackresult")),t.next=17,e.queryTransation(c.hash,!0);case 17:case"end":return t.stop()}}),t)})))()},initPledageList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!Array.isArray(e)){a.next=10;break}n=0,s=e.length;case 2:if(!(n<s)){a.next=10;break}return a.next=5,t.initContract(e[n].token);case 5:r=a.sent,t.pledageList.push(r);case 7:n++,a.next=2;break;case 10:case"end":return a.stop()}}),a)})))()},initContract:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s,i,c,u,d,m,p,x,g,v,f,b,A,h,C;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={},n.address=e,s=new o["a"].Contract(e,l["a"],t.signer),a.next=5,t.to(s.decimals());case 5:return i=a.sent,c=Object(r["a"])(i,2),u=c[0],d=c[1],t.doResponse(u,d)&&(n.decimal=d),a.next=12,t.to(s.symbol());case 12:return m=a.sent,p=Object(r["a"])(m,2),x=p[0],g=p[1],t.doResponse(x,g)&&(n.symbol=g.toUpperCase()),a.next=19,t.to(s.balanceOf(t.myAddress));case 19:return v=a.sent,f=Object(r["a"])(v,2),b=f[0],A=f[1],t.doResponse(b,A)&&(h=o["a"].utils.hexValue(A),C=t.hex2int(h)/o["a"].BigNumber.from(10).pow(d),n.totalBalance=C),console.log(n),a.abrupt("return",n);case 26:case"end":return a.stop()}}),a)})))()},queryTransation:function(e,t,a){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.provider.waitForTransaction(e).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(d["a"])(n.$t("blockSuccess"),t),console.log(t),!a){e.next=6;break}a(),e.next=9;break;case 6:return n.pledageList=[],e.next=9,n.initPledageList(n.funcNameArgs);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e)return 0;var t=o["a"].utils.hexValue(e);return this.hex2int(t)/o["a"].BigNumber.from(10).pow(this.decimals)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,a=e.length,n=new Array(a),s=0;s<a;s++)t=e.charCodeAt(s),48<=t&&t<58?t-=48:t=(223&t)-65+10,n[s]=t;return n.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(console.log(a+"================",e,t),null==e){if(a){var s=o["a"].utils.hexValue(t),r=this.hex2int(s)/o["a"].BigNumber.from(10).pow(n);this[a]=r}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(d["a"])("错误:"+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(d["a"])("矿工费不足"):4001===e.code||"cancelled"===e?Object(d["a"])("交易取消"):e.data.message.indexOf("gas")>0?Object(d["a"])("矿工费不足"):e.data.message.indexOf("RPC")>0?Object(d["a"])("节点异常，请切换节点"):e.data.message.indexOf("reverted")>0&&Object(d["a"])("错误:"+e.data.message)}catch(i){}return!1},getEstimateGas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s,i,u,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.to(e());case 2:if(n=a.sent,s=Object(r["a"])(n,2),i=s[0],u=s[1],!t.doResponse(i,u)){a.next=13;break}return l=o["a"].utils.hexValue(u),d=t.hex2int(l),console.log("getEstimateGas========",d),a.abrupt("return",String(c["a"].mul(d,1.5)).split(".")[0]);case 13:return a.abrupt("return",0);case 14:case"end":return a.stop()}}),a)})))()},calcExpectAmount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.exAmount>0&&(e.recAmount=e.exAmount*e.masPrice);case 1:case"end":return t.stop()}}),t)})))()}},watch:{}},v=g,f=(a("5cec"),a("2877")),b=Object(f["a"])(v,n,s,!1,null,null,null);t["default"]=b.exports},f18e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACFklEQVR4AeyY723CMBDFL2aBlh1QxyisQ9UZoDNUZR3oGBU70C7QpH6R3A9gwC8JxH8O6QQkx/nu5+cjtpHCXwqgcAGIKkAVUDgBXQKFC0CboC4BXQKFE9AlULgA9F+guCVwrHgFcEwk1u8P7/v542a/nX58rWFD5ZmMAsxEtpXIXCqzgg0FIQkA3mItCO914V5JAKhrs/OWNQAE4w0c2cWf19lOmvrNm1ZPCEkAQOGHl6f1LSBQAFwnRjcew5rKPAOG1zoqgQLgOjG68VjmLd5dtBAwSe5ryHswgCE6bkhCfX2qiayYGMEAznZiZrQ7+FZN/ckMEwzgYidmRryhbyOya5slMUYwAMRE8MNyVtW/sojRvpezBfJkjALgAkMNMZrLj3nvBIAZIHbf7AFcmwAFcI1Q7vdVAcwM4zETe4DpZt9Eafa0iKkHvpQC3F4AP4zSdC8gYkw9ZyYnWAGp7AWY4uEbDABPfmcPJBBpZMM+APnhcZ1JJRgAgrbBzx1NwcHew15hDMM+oM0PeRBGAUDcdhBbKD6fmG1CqZwbuNxpAPjhNQj4u4RfCtYJAAq7BIHtxIg3lnUGgIQvQcD9FKwXABR4AsH2h/YabiZgvQGgRhT83/lxfo+LidggAGKqlc1FAbDEcvNXBeQ2o2w9qgCWWG7+qoDcZpStRxXAEsvNXxWQ24yy9agCWGK5+asCUp/Rvvn/AQAA//+0rbu1AAAABklEQVQDALVgFJ+aB0dmAAAAAElFTkSuQmCC"}}]);